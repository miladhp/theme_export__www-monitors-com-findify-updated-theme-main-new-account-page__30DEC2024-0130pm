{% liquid
  # Reference obj: https: //shopify.dev/docs/api/liquid/objects/search
  # Example: default_sort_by=popularity&filters=type-some-thing&performed=true&results=he-dh-ad-dg

  assign curr_page = page_url | split: 'curr_page=' | last | split: '&' | first | plus: 0
  # string endcomment
  assign last_page = page_url | split: 'last_page=' | last | split: '&' | first | plus: 0
  # string endcomment

  # Shared properties: search and collection endcomment
  assign default_sort_by = page_url | split: 'default_sort_by=' | last | split: '&' | first
  # string endcomment
  assign filters = page_url | split: 'filters=' | last | split: '&' | first | split: ';'
  # 'value1-value2-value3-...' [ ] endcomment
  assign results_count = page_url | split: 'results_count=' | last | split: '&' | first | plus: 0
  # number endcomment
  assign sort_by = page_url | split: 'sort_by=' | last | split: '&' | first
  # string endcomment
  assign sort_options = page_url | split: 'sort_options=' | last | split: '&' | first | split: ';'
  # 'name-value' [ ] endcomment
  assign active_filters = page_url | split: 'active_filters=' | last | split: '&' | first
  # ? endcomment

  # Search properties: https: //shopify.dev/docs/api/liquid/objects/search endcomment
  assign performed = page_url | split: 'performed=' | last | split: '&' | first | boolean
  # boolean endcomment
  assign results = page_url | split: 'results=' | last | split: '&' | first | split: ';'
  # 'productHandle' [ ] endcomment

  if page_url contains 'terms='
    assign terms = page_url | split: 'terms=' | last | split: '&' | first
    # string endcomment
  endif
  if page_url contains 'corrected_q='
    assign corrected_q = page_url | split: 'corrected_q=' | last | split: '&' | first
    # string endcomment
  endif
  if page_url contains 'query_type='
    assign query_type = page_url | split: 'query_type=' | last | split: '&' | first
    # string endcomment
  endif
  assign types = page_url | split: 'types=' | last | split: '&' | first | split: ';'
  # string[] endcomment

  # Collection properties: https: //shopify.dev/docs/api/liquid/objects/collection endcomment
  assign all_products_count = page_url | split: 'all_products_count=' | last | split: '&' | first | plus: 0
  # number endcomment
  assign all_tags = page_url | split: 'all_tags=' | last | split: '&' | first
  # '?' [ ] endcomment
  assign all_types = page_url | split: 'all_types=' | last | split: '&' | first
  # boolean endcomment
  assign all_vendors = page_url | split: 'all_vendors=' | last | split: '&' | first
  # 'productHandle' [ ] endcomment
  assign current_type = page_url | split: 'current_type=' | last | split: '&' | first
  # number endcomment
  assign current_vendor = page_url | split: 'current_vendor=' | last | split: '&' | first
  # string endcomment
  assign description = page_url | split: 'description=' | last | split: '&' | first
  # string endcomment
  assign featured_image = page_url | split: 'featured_image=' | last | split: '&' | first
  # string[] endcomment
  assign handle = page_url | split: 'handle=' | last | split: '&' | first
  # string endcomment
  assign id = page_url | split: 'id=' | last | split: '&' | first
  # ? endcomment
  assign image = page_url | split: 'image=' | last | split: '&' | first
  # ? endcomment
  assign metafields = page_url | split: 'metafields=' | last | split: '&' | first
  # ? endcomment
  assign next_product = page_url | split: 'next_product=' | last | split: '&' | first
  # ? endcomment
  assign previous_product = page_url | split: 'previous_product=' | last | split: '&' | first
  # ? endcomment
  assign products = page_url | split: 'products=' | last | split: '&' | first | split: ';'
  # 'productHandle' [ ] endcomment
  assign products_count = page_url | split: 'products_count=' | last | split: '&' | first | plus: 0
  # number endcomment
  assign published_at = page_url | split: 'published_at=' | last | split: '&' | first
  # ? endcomment
  assign tags = page_url | split: 'tags=' | last | split: '&' | first
  # ? endcomment
  assign template_suffix = page_url | split: 'template_suffix=' | last | split: '&' | first
  # ? endcomment
  assign title = page_url | split: 'title=' | last | split: '&' | first
  # ? endcomment
  assign url = page_url | split: 'url=' | last | split: '&' | first | split: ';'
  # ? endcomment

  # Content search tabs and contents endcomment
  assign tabs = page_url | split: 'tabs=' | last | split: '&' | first | split: ';'
  # 'tab' [ ]

  # Grid Settings and configurations
  assign desktop_products_per_view = query_parameters | split: 'desktop_products_per_view:' | last | split: '|' | first | split: '&' | first 
  assign mobile_products_per_view = query_parameters | split: 'mobile_products_per_view:' | last | split: '|' | first | split: '&' | first 
  assign desktop_products_per_view_alt = query_parameters | split: 'desktop_products_per_view_alt:' | last | split: '|' | first | split: '&' | first 

  assign settingsObj = page_url | split: 'settingsObj=' | last | split: '&' | first

  assign color_layout = settingsObj | split: 'color_filter:' | last | split: '|' | first
  assign use_lazy_loading_pagination = settingsObj | split: 'use_lazy_loading_pagination:' | last | split: '|' | first
  assign lazy_loading_pagination_threshold = settingsObj | split: 'lazy_loading_pagination_threshold:' | last | split: '|' | first | plus: 0
%}