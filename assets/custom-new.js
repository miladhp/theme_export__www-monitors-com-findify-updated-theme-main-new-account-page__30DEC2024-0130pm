/**
 * Include your custom JavaScript here.
 *
 * We also offer some hooks so you can plug your own logic. For instance, if you want to be notified when the variant
 * changes on product page, you can attach a listener to the document:
 *
 * document.addEventListener('variant:changed', function(event) {
 *   var variant = event.detail.variant; // Gives you access to the whole variant details
 * });
 *
 * You can also add a listener whenever a product is added to the cart:
 *
 * document.addEventListener('product:added', function(event) {
 *   var variant = event.detail.variant; // Get the variant that was added
 *   var quantity = event.detail.quantity; // Get the quantity that was added
 * });
 *
 * If you are an app developer and requires the theme to re-render the mini-cart, you can trigger your own event. If
 * you are adding a product, you need to trigger the "product:added" event, and make sure that you pass the quantity
 * that was added so the theme can properly update the quantity:
 *
 * document.documentElement.dispatchEvent(new CustomEvent('product:added', {
 *   bubbles: true,
 *   detail: {
 *     quantity: 1
 *   }
 * }));
 *
 * If you just want to force refresh the mini-cart without adding a specific product, you can trigger the event
 * "cart:refresh" in a similar way (in that case, passing the quantity is not necessary):
 *
 * document.documentElement.dispatchEvent(new CustomEvent('cart:refresh', {
 *   bubbles: true
 * }));
 */

//const formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"});window.addEventListener("load",function(){null!=document.querySelector(".request_flip_btn")&&document.querySelector(".request_flip_btn").classList.remove("disabled")});var attr=jQuery("body").attr("data-curr");function empty(l){return""==l||null==l||null==l}function login(l,o){return $.ajax({url:"/account/login",method:"post",data:{"customer[email]":l,"customer[password]":o,form_type:"customer_login",utf8:"✓"},dataType:"html",async:!0})}function getCartData(l){var o=[];return l.parents(".site-i-cart").find(".line-item").each(function(){var l=$(this).data("pro-id"),c=$(this).data("var-id"),p=$(this).find(".quantity-selector__value").val(),u=$(this).find(".line-item__price:not(.line-item__price--compare)").data("price"),f=$.trim($(this).find(".line-item__title").text()),m=$.trim($(this).find(".line-item__title").data("var-title")),h=$(this).find(".line-item--line-price").data("line-price"),v=$.trim($(this).find(".line-item__vendor").text()),y=$(this).find(".line-item__vendor").attr("href"),b=$(this).find(".line-item__image-wrapper img").attr("src"),g=$(this).find(".line-item__title").attr("href");o.push({productId:l,variantId:c,productTitle:f,variantTitle:m,price:u,quantity:Number(p),linePrice:h,vendorTitle:v,vendorLink:y,image:b,productUrl:g})}),o}function getCartData1(l){var o=[];return l.parents(".site-i-cart").find(".line-item").each(function(){var l=$(this).data("pro-id"),c=$(this).data("var-id"),p=$(this).find(".quantity-selector__value").val(),u=$(this).find(".line-item__price:not(.line-item__price--compare)").data("price"),f=$.trim($(this).find(".line-item__title").text()),m=$.trim($(this).find(".line-item__title").data("var-title")),h=$(this).find(".line-item--line-price").data("line-price"),v=$.trim($(this).find(".line-item__vendor").text()),y=$(this).find(".line-item__vendor").attr("href"),b=$(this).find(".line-item__image-wrapper img").attr("src"),g=$(this).find(".line-item__title").attr("href");o.push({productId:l,variantId:c,productTitle:f,variantTitle:m,price:u,quantity:Number(p),linePrice:h,vendorTitle:v,vendorLink:y,image:b,productUrl:g})}),o}void 0!==attr&&!1!==attr&&$(document).on("change","input[type='radio'][name='address']",function(){if("billing_address"==$(this).attr("id")){var l=$(".cart_create.cube-face-left").height(),o=0;o=641>$(window).width()?658:466,$(".cart-recap").height(parseFloat(l)+o),$(".billing_add").stop(!0,!0).slideDown("slow")}else{l=$(".cart_create.cube-face-left").height();var c=0;c=641>$(window).width()?615:423,setTimeout(function(){$(".cart-recap").height(parseFloat(l)-c)},500),$(".billing_add").stop(!0,!0).slideUp(500)}});var a={},e=[],s=[],t=[],r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;$(document).on("click",".submit_quote",function(l){l.preventDefault();var o=$(this),c=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),p={},u=getCartData(o);if(p.cart_items=u,p.cart_subtotal=c,1==d(o)){o.addClass("loading-true"),a.cart_data=p;var f=a;$.ajax({type:"POST",url:"https://monitors.com/apps/monitors_quote/user/check",dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status&&0==a.isLogin&&0==l.login_require?$(".thank_you").trigger("click"):($("#cube").removeClass("show-left show-right show-front-success").addClass("show-back"),$(".cube-face-back").addClass("is-active"),$(".cube-face-left").removeClass("is-active"),setTimeout(function(){var l=$(".cube-face-back").height();$(".cart-recap").height(l),o.removeClass("loading-true")},200),void 0===f.billingAddress?o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),o.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f.contactData[0].firstName),o.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.contactData[0].firstName+" "+f.contactData[0].lastName+"</p><span>"+f.contactData[0].email+"</span><span>"+f.contactData[0].company+"</span><span>"+f.contactData[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.shippingAddress[0].firstName+" "+f.shippingAddress[0].lastName+"</p><span>"+f.shippingAddress[0].phoneNumber+"</span><span>"+f.shippingAddress[0].address1+" - "+f.shippingAddress[0].zipcode+"<br>"+f.shippingAddress[0].address2+"<br>"+f.shippingAddress[0].state+", "+f.shippingAddress[0].country+"</span>"),2==l&&void 0!==f.billingAddress&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.billingAddress[0].firstName+" "+f.billingAddress[0].lastName+"</p><span>"+f.billingAddress[0].phoneNumber+"</span><span>"+f.billingAddress[0].address1+" - "+f.billingAddress[0].zipcode+"<br>"+f.billingAddress[0].address2+"<br>"+f.billingAddress[0].state+", "+f.billingAddress[0].country+"</span>")})),o.removeClass("loading-true")}})}}),$(document).on("click",".submit_quote_new",function(l){l.preventDefault();var o=$(this),c=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),p={},u=getCartData1(o);p.cart_items=u,p.cart_subtotal=c,1==function(l){s.length=0,t.length=0;var o=$("#contact-data"),c=o.find("#first_name"),p=o.find("#last_name"),u=o.find("#first_email"),f=(o.find("#first_password"),o.find("#phone_number"));a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",e.push({firstName:c.val(),lastName:p.val(),phoneNumber:f.val(),email:u.val()}),a.contactData=e;var m=l.parents(".custom_cart_create_in"),h=m.find("#ship_add_first_name"),v=m.find("#ship_add_last_name"),y=m.find("#ship_add_phone_number"),b=m.find("#ship_add_company"),g=m.find("#ship_add_address1"),_=m.find("#ship_add_address2"),C=m.find("#ship_add_city"),N=m.find("#ship_add_state"),w=m.find("#ship_add_state option:selected").data("code"),x=m.find("#ship_add_zipcode"),A=m.find("#ship_add_country"),k=m.find("#ship_add_country option:selected").data("value"),E=m.find("input[type='radio'][name='address']:checked").attr("id");if(m.find(".err").remove(),"billing_address"==E)var T=m.find("#bill_add_first_name"),S=m.find("#bill_add_last_name"),q=m.find("#bill_add_phone_number"),D=m.find("#bill_add_company"),z=m.find("#bill_add_address1"),I=m.find("#bill_add_address2"),P=m.find("#bill_add_city"),j=m.find("#bill_add_state"),O=m.find("#bill_add_state option:selected").data("code"),L=m.find("#bill_add_zipcode"),M=m.find("#bill_add_country"),F=m.find("#bill_add_country option:selected").data("value");return 0==empty(h)&&""==h.val()?(h.after("<span class='err'>Enter your first name</span>"),h.focus(),!1):0==empty(v)&&""==v.val()?(v.after("<span class='err'>Enter your last name</span>"),v.focus(),!1):0!=empty(v)||y.val()?0!=empty(b)||b.val()?0!=empty(g)||g.val()?0!=empty(C)||C.val()?0==empty(N)&&0==N.val()&&0==A.val()?(N.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),N.focus(),!1):0==empty(N)&&0==N.val()&&0!=A.val()?(N.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),N.focus(),!1):0!=empty(x)||x.val()?0==empty(A)&&0==A.val()?(A.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),A.focus(),!1):"billing_address"!=E||0!=empty(T)||T.val()?"billing_address"!=E||0!=empty(S)||S.val()?"billing_address"!=E||0!=empty(q)||q.val()?"billing_address"!=E||0!=empty(D)||D.val()?"billing_address"!=E||0!=empty(z)||z.val()?"billing_address"!=E||0!=empty(P)||P.val()?"billing_address"==E&&0==empty(j)&&0==j.val()&&0==M.val()?(j.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),j.focus(),!1):"billing_address"==E&&0==empty(j)&&0==j.val()&&0!=M.val()?(j.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),j.focus(),!1):"billing_address"!=E||0!=empty(L)||L.val()?"billing_address"==E&&0==empty(M)&&0==M.val()?(M.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),M.focus(),!1):(s.push({firstName:h.val(),lastName:v.val(),phoneNumber:y.val(),company:b.val(),address1:g.val(),address2:_.val(),city:C.val(),state:N.val(),stateCode:w,zipcode:x.val(),country:A.val(),countryCode:k}),a.shippingAddress=s,"billing_address"==E&&(t.push({firstName:T.val(),lastName:S.val(),phoneNumber:q.val(),company:D.val(),address1:z.val(),address2:I.val(),city:P.val(),state:j.val(),stateCode:O,zipcode:L.val(),country:M.val(),countryCode:F}),a.billingAddress=t),m.find(".err").remove(),!0):(L.after("<span class='err'>Enter your zipcode</span>"),L.focus(),!1):(P.after("<span class='err'>Enter your city</span>"),P.focus(),!1):(z.after("<span class='err'>Enter your address1</span>"),z.focus(),!1):(D.after("<span class='err'>Enter your company name</span>"),D.focus(),!1):(q.after("<span class='err'>Enter your phone number</span>"),q.focus(),!1):(S.after("<span class='err'>Enter your last name</span>"),S.focus(),!1):(T.after("<span class='err'>Enter your first name</span>"),T.focus(),!1):(x.after("<span class='err'>Enter your zipcode</span>"),x.focus(),!1):(C.after("<span class='err'>Enter your city</span>"),C.focus(),!1):(g.after("<span class='err'>Enter your address1</span>"),g.focus(),!1):(b.after("<span class='err'>Enter your company name</span>"),b.focus(),!1):(y.after("<span class='err'>Enter your phone number</span>"),y.focus(),!1)}(o)&&(o.addClass("loading-true"),a.cart_data=p,console.log(a),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/user/check`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status?(console.log("success"),$(".thank_you1").trigger("click")):console.log("fail"),o.removeClass("loading-true")}}))}),$(document).on("click",".submit_address_new",function(l){l.preventDefault();var o=$(this).attr("data-redirect-url"),c=$(this);c.attr("data-current-currency"),1==function(l){a.shop=Shopify.shop,a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"";var o=l.parents(".custom_cart_create_in"),c=o.find("#ship_add_first_name"),p=o.find("#ship_add_last_name"),u=o.find("#ship_add_phone_number"),f=o.find("#ship_add_company"),m=o.find("#ship_add_address1"),h=o.find("#ship_add_address2"),v=o.find("#ship_add_city"),y=o.find("#ship_add_state"),b=o.find("#ship_add_state option:selected").data("code"),g=o.find("#ship_add_zipcode"),_=o.find("#ship_add_country"),C=o.find("#ship_add_country option:selected").data("value"),N=o.find("input[type='radio'][name='address']:checked").attr("id");if(o.find(".err").remove(),"billing_address"==N)var w=o.find("#bill_add_first_name"),x=o.find("#bill_add_last_name"),A=o.find("#bill_add_phone_number"),k=o.find("#bill_add_company"),E=o.find("#bill_add_address1"),T=o.find("#bill_add_address2"),S=o.find("#bill_add_city"),q=o.find("#bill_add_state"),D=o.find("#bill_add_state option:selected").data("code"),z=o.find("#bill_add_zipcode"),I=o.find("#bill_add_country"),P=o.find("#bill_add_country option:selected").data("value");if(0==empty(c)&&""==c.val())return c.after("<span class='err'>Enter your first name</span>"),c.focus(),!1;if(0==empty(p)&&""==p.val())return p.after("<span class='err'>Enter your last name</span>"),p.focus(),!1;if(0!=empty(p)||u.val()){if(0!=empty(m)||m.val()){if(0!=empty(v)||v.val()){if(0==empty(y)&&0==y.val()&&0==_.val())return y.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),y.focus(),!1;if(0==empty(y)&&0==y.val()&&0!=_.val())return y.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),y.focus(),!1;if(0!=empty(g)||g.val()){if(0==empty(_)&&0==_.val())return _.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),_.focus(),!1;if("billing_address"!=N||0!=empty(w)||w.val()){if("billing_address"!=N||0!=empty(x)||x.val()){if("billing_address"!=N||0!=empty(E)||E.val()){if("billing_address"!=N||0!=empty(S)||S.val()){if("billing_address"==N&&0==empty(q)&&0==q.val()&&0==I.val())return q.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),q.focus(),!1;if("billing_address"==N&&0==empty(q)&&0==q.val()&&0!=I.val())return q.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),q.focus(),!1;if("billing_address"!=N||0!=empty(z)||z.val()){if("billing_address"==N&&0==empty(I)&&0==I.val())return I.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),I.focus(),!1;var j=[];return j.push({firstName:c.val(),lastName:p.val(),phoneNumber:u.val(),company:f.val(),address1:m.val(),address2:h.val(),city:v.val(),state:y.val()?y.val():"",stateCode:b||"",zipcode:g.val(),country:_.val(),countryCode:C,addressType:N}),j.shipping_address=s,"billing_address"==N&&j.push({firstName:w.val(),lastName:x.val(),phoneNumber:A.val(),company:k.val(),address1:E.val(),address2:T.val(),city:S.val(),state:q.val()?q.val():"",stateCode:D||"",zipcode:z.val(),country:I.val(),countryCode:P}),a.addresses=j,o.find(".err").remove(),!0}return z.after("<span class='err'>Enter your zipcode</span>"),z.focus(),!1}return S.after("<span class='err'>Enter your city</span>"),S.focus(),!1}return E.after("<span class='err'>Enter your address1</span>"),E.focus(),!1}return x.after("<span class='err'>Enter your last name</span>"),x.focus(),!1}return w.after("<span class='err'>Enter your first name</span>"),w.focus(),!1}return g.after("<span class='err'>Enter your zipcode</span>"),g.focus(),!1}return v.after("<span class='err'>Enter your city</span>"),v.focus(),!1}return m.after("<span class='err'>Enter your address1</span>"),m.focus(),!1}return u.after("<span class='err'>Enter your phone number</span>"),u.focus(),!1}(c)&&(c.addClass("loading-true"),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/quote/add_address`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){if("error"==l.status&&alert(l.message),"ok"==l.status){console.log("success");var p=l.data,u=p.addresses[0].firstName,f=p.addresses[0].lastName,m=p.addresses[0].phoneNumber,h=p.addresses[0].company,v=p.addresses[0].address1,y=p.addresses[0].address2,b=p.addresses[0].city,g=p.addresses[0].state,_=p.addresses[0].stateCode,C=p.addresses[0].zipcode,N=p.addresses[0].country,w=p.addresses[0].countryCode,x=p.addresses[0].id;if(p.addresses[0].addressType,"billing_address"==p.addresses[0].addressType)var A=p.addresses[1].firstName,k=p.addresses[1].lastName,E=p.addresses[1].phoneNumber,T=p.addresses[1].company,S=p.addresses[1].address1,q=p.addresses[1].address2,D=p.addresses[1].city,z=p.addresses[1].state,I=p.addresses[1].stateCode,P=p.addresses[1].zipcode,j=p.addresses[1].country,O=p.addresses[1].countryCode;else A=p.addresses[0].firstName,k=p.addresses[0].lastName,E=p.addresses[0].phoneNumber,T=p.addresses[0].company,S=p.addresses[0].address1,q=p.addresses[0].address2,D=p.addresses[0].city,z=p.addresses[0].state,I=p.addresses[0].stateCode,P=p.addresses[0].zipcode,j=p.addresses[0].country,O=p.addresses[0].countryCode;window.localStorage.setItem("formData",JSON.stringify({shipAddFirstName:u,shipAddLastName:f,shipAddPhoneNumber:m,shipAddCompany:h,shipAddAddress1:v,shipAddAddress2:y,shipAddCity:b,shipAddState:g,shipddStateCode:_,shipAddZipcode:C,shipAddCountry:N,shipAddCountryCode:w,addressId:x,bilAddFirstName:A,bilAddLastName:k,bilAddPhoneNumber:E,bilAddCompany:T,bilAddAddress1:S,bilAddAddress2:q,bilAddCity:D,bilAddState:z,bilAddStateCode:I,bilAddZipcode:P,bilAddCountry:j,bilAddCountryCode:O})),console.log(p),window.location.href=o}else console.log("fail");c.removeClass("loading-true")}}))}),$(document).on("click",".request_flip_btn",function(l){if(null!=ShopifyAnalytics.meta.page.customerId){$(".cube-face-back .address-list__item .address-list__item-info").addClass("loading-true"),$("#cube").prepend('<div class="bg_loader"></div>').fadeIn();let o=$(this);var c={};c.shop=Shopify.shop,c.customerId=ShopifyAnalytics.meta.page.customerId,$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote/user/quote`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(c)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){if(!0===l.status){$(".bg_loader").fadeOut(),$("#cube").removeClass("show-left show-right show-front-success").addClass("show-back"),$(".cube-face-front").removeClass("is-active"),$(".cube-face-back").addClass("is-active"),setTimeout(function(){let l=$(".cube-face-back").height();$(".cart-recap").height(l)},200);var p=l.data,u=JSON.parse(p.billing_address),f=JSON.parse(p.contact_data),m=(JSON.parse(p.cart_data),JSON.parse(p.shipping_address)),h=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),v={},y=getCartData(o);v.cart_items=y,v.cart_subtotal=h,a.shop=c.shop,a.isLogin=!0,a.customerId=c.customerId,a.contactData=f,a.shippingAddress=m,a.cart_data=v,void 0===u?o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):(o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),a.billingAddress=u),o.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f[0].firstName),o.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f[0].firstName+" "+f[0].lastName+"</p><span>"+f[0].email+"</span><span>"+f[0].company+"</span><span>"+f[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+m[0].firstName+" "+m[0].lastName+"</p><span>"+m[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+m[0].address1+" - "+m[0].zipcode+"</span><span>"+m[0].address2+"</span><span>"+m[0].state+", "+m[0].country+"</span>"),2==l&&void 0!==u&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+u[0].firstName+" "+u[0].lastName+"</p><span>"+u[0].phoneNumber+"</span><span>"+u[0].company+"</span><span>"+u[0].address1+" - "+u[0].zipcode+"</span><span>"+u[0].address2+"</span><span>"+u[0].state+", "+u[0].country+"</span>")}),$(".cube-face-back .address-list__item .address-list__item-info").removeClass("loading-true");let b=$(".cube-face-back").height();$(".cart-recap").height(b)}}})}else $("#cube").removeClass("show-back show-right show-front-success show-left").addClass("show-first"),$(".cube-face-first").addClass("is-active"),$(".cube-face-front").removeClass("is-active");var p=$(".cube-face-first").height()+30;$(".cart-recap").height(p);var u=$("body").attr("data-country");null!=u&&"CA"==u&&($("#ship_add_zipcode").attr("placeholder","Postal Code"),$("#bill_add_zipcode").attr("placeholder","Postal Code")),$('#ship_add_country .select__item[data-value="US"]').prop("selected",!0).trigger("change"),$('#bill_add_country .select__item[data-value="US"]').prop("selected",!0).trigger("change")}),$(document).on("click",".request_quote_continue",function(){let l=$(this);if(1==d(l)){var o=a;l.addClass("loading-true"),l.parents("#cube").find(".first-contact-data").find(".form__header .heading").text("Hi "+o.contactData[0].firstName),l.parents("#cube").find(".first-contact-data").find(".address-list .address-list__item").each(function(c){0==c&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+o.contactData[0].firstName+" "+o.contactData[0].lastName+"</p><span>"+o.contactData[0].email+"</span><span>"+o.contactData[0].company+"</span><span>"+o.contactData[0].phoneNumber+"</span>"),$.ajax({type:"POST",url:"https://monitors.com/apps/monitors_quote/user/check",dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){if(1==o.status&&0==a.isLogin&&1==o.login_require)$("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left .cart_create_in").hide(),$(".cube-face-left .cart_create_out").show(),$(".cube-face-left").addClass("is-active").siblings().removeClass("is-active"),$(".cube-face-front").removeClass("is-active");else{$("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left").addClass("is-active"),$(".cube-face-first").removeClass("is-active");var c=$(".cube-face-left").height()+30;$(".cart-recap").height(c)}l.removeClass("loading-true")}})})}}),$(document).on("click",".sign-in-click",function(){$("#account-popover").attr("aria-hidden","false")}),$("#account-popover").addClass("login-popup-transition-down"),$("#account-popover").hasClass("popover--unlogged")&&$("#account-popover").hasClass("login-popup-transition-right")?$("#account-popover").removeClass("login-popup-transition-right"):$("#account-popover").hasClass("popover--logged")&&!$("#account-popover").hasClass("login-popup-transition-right")&&$("#account-popover").addClass("login-popup-transition-right"),$(document).on("click",".acc-login-custm",function(){"false"===$("#account-popover").attr("aria-hidden")?($("#account-popover").addClass("login-popup-transition-up"),$("#account-popover").hasClass("login-popup-transition-down")&&$("#account-popover").removeClass("login-popup-transition-down")):($("#account-popover").addClass("login-popup-transition-down"),$("#account-popover").hasClass("login-popup-transition-up")&&$("#account-popover").removeClass("login-popup-transition-up"))}),$(document).on("click",".login-btn",function(){$("#cube").removeClass("show-left show-back show-front-success show-first").addClass("show-back"),$(".cube-face-back").addClass("is-active"),$(".cube-face-left").removeClass("is-active"),$(".cube-face-front").removeClass("is-active"),setTimeout(function(){var l=$(".cube-face-back").height();$(".cart-recap").height(l)},500)});var i=window.location.origin+"/apps/monitors_quote/quote/save";$(document).on("click",".thank_you",function(){var l=$(this);l.addClass("loading-true"),$.ajax({type:"POST",url:i,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){1==o.status?($.ajax({type:"POST",url:"/cart/clear.js",success:function(l){$(".cart-main-wrapper").hide(),$(".header__cart-count").text(0),$(".thanku_page_wrap").show(),$("html, body").animate({scrollTop:0},500)},dataType:"json"}),setTimeout(function(){0==a.isLogin&&1==o.login_require&&login(a.contactData[0].email,a.contactData[0].password).done(function(l){}).fail(function(l){console.log("failResponse",l)})},500)):0==a.isLogin&&1==o.login_require&&($("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left .cart_create_in").hide(),$(".cube-face-left .cart_create_out").show(),$(".cube-face-left").addClass("is-active").siblings().removeClass("is-active"),$(".cube-face-front").removeClass("is-active")),l.removeClass("loading-true")}})});var n=window.location.origin+"/apps/monitors_quote_2/quote/save";function d(l){s.length=0,t.length=0;var o=l.parents(".cart_create_in"),c=o.find("#first_name"),p=o.find("#last_name"),u=o.find("#first_email"),f=o.find("#first_password"),m=o.find("#phone_number"),h=o.find("#first_company"),v=o.find("input[type='radio'][name='address']:checked").attr("id");if(o.find(".err").remove(),l.parents(".cube-face-first").hasClass("is-active"))return 0==empty(c)&&""==c.val()?(c.after("<span class='err'>Enter your first name</span>"),c.focus(),!1):0==empty(p)&&""==p.val()?(p.after("<span class='err'>Enter your last name</span>"),p.focus(),!1):0==empty(m)&&""==m.val()?(m.after("<span class='err'>Enter your phone number</span>"),m.focus(),!1):0==empty(h)&&""==h.val()?(h.after("<span class='err'>Enter your company name</span>"),h.focus(),!1):0==empty(u)&&""==u.val()?(u.after("<span class='err'>Enter your email address</span>"),u.focus(),!1):0!=empty(u)||r.test(u.val())?0==empty(f)&&f.length>0&&""==f.val()?(f.after("<span class='err'>Enter new password</span>"),f.focus(),!1):(a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",e.push({firstName:c.val(),lastName:p.val(),phoneNumber:m.val(),company:h.val(),email:u.val(),password:f.length>0?f.val():""}),a.contactData=e,o.find(".err").remove(),!0):(u.after("<span class='err'>Enter your valid email address</span>"),u.focus(),!1);var y=o.find("#ship_add_first_name"),b=o.find("#ship_add_last_name"),g=o.find("#ship_add_phone_number"),_=o.find("#ship_add_company"),C=o.find("#ship_add_address1"),N=o.find("#ship_add_address2"),w=o.find("#ship_add_city"),x=o.find("#ship_add_state"),A=o.find("#ship_add_state option:selected").data("code"),k=o.find("#ship_add_zipcode"),E=o.find("#ship_add_country"),T=o.find("#ship_add_country option:selected").data("value");if("billing_address"==v)var S=o.find("#bill_add_first_name"),q=o.find("#bill_add_last_name"),D=o.find("#bill_add_phone_number"),z=o.find("#bill_add_company"),I=o.find("#bill_add_address1"),P=o.find("#bill_add_address2"),j=o.find("#bill_add_city"),O=o.find("#bill_add_state"),L=o.find("#bill_add_state option:selected").data("code"),M=o.find("#bill_add_zipcode"),F=o.find("#bill_add_country"),U=o.find("#bill_add_country option:selected").data("value");return 0==empty(y)&&""==y.val()?(y.after("<span class='err'>Enter your first name</span>"),y.focus(),!1):0==empty(b)&&""==b.val()?(b.after("<span class='err'>Enter your last name</span>"),b.focus(),!1):0!=empty(b)||g.val()?0!=empty(_)||_.val()?0!=empty(C)||C.val()?0!=empty(w)||w.val()?0==empty(x)&&0==x.val()&&0==E.val()?(x.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),x.focus(),!1):0==empty(x)&&0==x.val()&&0!=E.val()?(x.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),x.focus(),!1):0!=empty(k)||k.val()?0==empty(E)&&0==E.val()?(E.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),E.focus(),!1):"billing_address"!=v||0!=empty(S)||S.val()?"billing_address"!=v||0!=empty(q)||q.val()?"billing_address"!=v||0!=empty(D)||D.val()?"billing_address"!=v||0!=empty(z)||z.val()?"billing_address"!=v||0!=empty(I)||I.val()?"billing_address"!=v||0!=empty(j)||j.val()?"billing_address"==v&&0==empty(O)&&0==O.val()&&0==F.val()?(O.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),O.focus(),!1):"billing_address"==v&&0==empty(O)&&0==O.val()&&0!=F.val()?(O.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),O.focus(),!1):"billing_address"!=v||0!=empty(M)||M.val()?"billing_address"==v&&0==empty(F)&&0==F.val()?(F.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),F.focus(),!1):(s.push({firstName:y.val(),lastName:b.val(),phoneNumber:g.val(),company:_.val(),address1:C.val(),address2:N.val(),city:w.val(),state:x.val()?x.val():"",stateCode:A||"",zipcode:k.val(),country:E.val(),countryCode:T}),a.shippingAddress=s,"billing_address"==v&&(t.push({firstName:S.val(),lastName:q.val(),phoneNumber:D.val(),company:z.val(),address1:I.val(),address2:P.val(),city:j.val(),state:O.val()?O.val():"",stateCode:L||"",zipcode:M.val(),country:F.val(),countryCode:U}),a.billingAddress=t),o.find(".err").remove(),!0):(M.after("<span class='err'>Enter your zipcode</span>"),M.focus(),!1):(j.after("<span class='err'>Enter your city</span>"),j.focus(),!1):(I.after("<span class='err'>Enter your address1</span>"),I.focus(),!1):(z.after("<span class='err'>Enter your company name</span>"),z.focus(),!1):(D.after("<span class='err'>Enter your phone number</span>"),D.focus(),!1):(q.after("<span class='err'>Enter your last name</span>"),q.focus(),!1):(S.after("<span class='err'>Enter your first name</span>"),S.focus(),!1):(k.after("<span class='err'>Enter your zipcode</span>"),k.focus(),!1):(w.after("<span class='err'>Enter your city</span>"),w.focus(),!1):(C.after("<span class='err'>Enter your address1</span>"),C.focus(),!1):(_.after("<span class='err'>Enter your company name</span>"),_.focus(),!1):(g.after("<span class='err'>Enter your phone number</span>"),g.focus(),!1)}$(document).on("click",".thank_you1",function(){var l=$(this);l.addClass("loading-true"),$.ajax({type:"POST",url:n,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){"error"==o.status&&$(".bg_loader_new").fadeOut()&&alert(o.message),"ok"==o.status&&$.ajax({type:"POST",url:"/cart/clear.js",success:function(l){$(".cart-main-wrapper").hide(),$(".header__cart-count").text(0),$(".bg_loader_new").fadeOut(),$(".site-i-cart").removeClass("req-qt-all"),$(".thanku_page_wrap").show(),$("#custom-log-temp").hide(),$("html, body").animate({scrollTop:0},500),localStorage.removeItem("formData")},dataType:"json"}),l.removeClass("loading-true")}})}),$(document).on("click",".thnks_close",function(){$("#cube").removeClass("show-left show-back show-right show-first").addClass("show-front-success"),$(".cube-face-front").addClass("is-active"),$(".cube-face-right").removeClass("is-active");var l=$(".cube-face-front").height();$(".cart-recap").height(l)}),$(document).on("ready",function(){$(document).on("click",".btn-edit",function(){var l=$(this);l.toggleClass("active"),$(this).parents(".address-list__item").find(".edit_form").is(":visible")||"contact-data"!=$(this).data("id")||(l.parents(".address-list__item").find(".edit_form").find(".err").remove(),$.each(a.contactData[0],function(o,c){l.parents(".address-list__item:not(.first-form-data)").find(".edit_form").find("#contact_"+o).val(c),l.parents(".address-list__item.first-form-data").find(".edit_form").find("#"+o).val(c)})),$(this).parents(".address-list__item").find(".edit_form").slideToggle(),setTimeout(function(){if($(".cart_create.cube-face-left").hasClass("is-active")){var l=$(".cart_create.cube-face-left").height();$(".cart-recap").height(parseFloat(l))}else{var o=$(".cart_create.cube-face-back").height();$(".cart-recap").height(parseFloat(o))}},500)})}),$(document).on("click",".save-data",function(){var l=a,o=$(this),c=$(this).parents(".address-list__item").find(".btn-edit").data("id");if($(this).parents(".address-list__item").find(".btn-edit").removeClass("active"),"contact-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id");if(o.indexOf("_")>0)var c=(o=o.split("_"))[1];else c=$(this).attr("id");""==$(this).val()||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):l.contactData[0][c]=$(this).val()});var p="";p+='<p class="heading h5">'+l.contactData[0].firstName+" "+l.contactData[0].lastName+"</p><span>"+l.contactData[0].email+"</span><span>"+l.contactData[0].company+"</span><span>"+l.contactData[0].phoneNumber+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(p)}if("shipping-add-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id"),c=(o=o.split("_"))[1];""==$(this).val()&&"ship_address2"!=$(this).attr("id")||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):"ship_save_country"==$(this).attr("id")?l.shippingAddress[0].country=$(this).val():l.shippingAddress[0][c]=$(this).val()});var u="";u+='<p class="heading h5">'+l.shippingAddress[0].firstName+" "+l.shippingAddress[0].lastName+"</p><span>"+l.shippingAddress[0].phoneNumber+"</span>",u+="<span>"+l.shippingAddress[0].company+"</span>",u+="<span>"+l.shippingAddress[0].address1+" - "+l.shippingAddress[0].zipcode+"</span>",""!=l.shippingAddress[0].address2&&(u+="<span>"+l.shippingAddress[0].address2+"</span>"),u+="<span>"+l.shippingAddress[0].state+", "+l.shippingAddress[0].country+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(u)}if("billing-add-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id"),c=(o=o.split("_"))[1];""==$(this).val()&&"bill_address2"!=$(this).attr("id")||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):"bill_save_country"==$(this).attr("id")?l.billingAddress[0].country=$(this).val():l.billingAddress[0][c]=$(this).val()});var f="";f+='<p class="heading h5">'+l.billingAddress[0].firstName+" "+l.billingAddress[0].lastName+"</p><span>"+l.billingAddress[0].phoneNumber+"</span>",f+="<span>"+l.billingAddress[0].company+"</span>",f+="<span>"+l.billingAddress[0].address1+" - "+l.billingAddress[0].zipcode+"</span>",""!=l.billingAddress[0].address2&&(f+="<span>"+l.billingAddress[0].address2+"</span>"),f+="<span>"+l.billingAddress[0].state+", "+l.billingAddress[0].country+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(f)}o.parents(".address-list__item").find(".edit_form").slideToggle(),setTimeout(function(){if($(".cart_create.cube-face-left").hasClass("is-active")){var l=$(".cart_create.cube-face-left").height();$(".cart-recap").height(parseFloat(l))}else{var o=$(".cart_create.cube-face-back").height();$(".cart-recap").height(parseFloat(o))}},500)}),$(document).on("click",".edit-quote-submit",function(){var l=$(this),o=$("#contact-data").find("#contact_firstName"),c=$("#contact-data").find("#contact_lastName"),p=$("#contact-data").find("#contact_email"),u=$("#contact-data").find("#contact_phoneNumber");a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",a.reference=$("#quote-reference").val(),a.notes=$("#special-request").val(),e.push({firstName:o.val(),lastName:c.val(),phoneNumber:u.val(),email:p.val()}),a.contactData=e;var f=l.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),m=l.parents(".site-i-cart").find(".cart-currency-iso").data("currency"),h={},v=getCartData1(l);h.cart_items=v,h.cart_subtotal=f,h.cart_currency_code=m,a.cart_data=h;var y=$("#ship-data").find("#address_id"),b=$("#ship-data").find("#ship_firstName"),g=$("#ship-data").find("#ship_lastName"),_=$("#ship-data").find("#ship_phoneNumber"),C=$("#ship-data").find("#ship_company"),N=$("#ship-data").find("#ship_address1"),w=$("#ship-data").find("#ship_address2"),x=$("#ship-data").find("#ship_city"),A=$("#ship-data").find("#ship_state"),k=$("#ship-data").find("#ship_state option:selected").data("code"),E=$("#ship-data").find("#ship_zipcode"),T=$("#ship-data").find("#ship_save_country"),S=$("#ship-data").find("#ship_save_country option:selected").data("value");s.push({addressId:y.val(),firstName:b.val(),lastName:g.val(),phoneNumber:_.val(),company:C.val(),address1:N.val(),address2:w.val(),city:x.val(),state:A.val()?A.val():"",stateCode:k||"",zipcode:E.val(),country:T.val(),countryCode:S}),a.shippingAddress=s;var q=$("#bil-data").find("#address_id"),D=$("#bil-data").find("#bill_firstName"),z=$("#bil-data").find("#bill_lastName"),I=$("#bil-data").find("#bill_phoneNumber"),P=$("#bil-data").find("#bill_company"),j=$("#bil-data").find("#bill_address1"),O=$("#bil-data").find("#bill_address2"),L=$("#bil-data").find("#bill_city"),M=$("#bil-data").find("#bill_state"),F=$("#bil-data").find("#bill_state option:selected").data("code"),U=$("#bil-data").find("#bill_zipcode"),H=$("#bil-data").find("#bill_save_country"),V=$("#bil-data").find("#bill_save_country option:selected").data("value");t.push({addressId:q.val(),firstName:D.val(),lastName:z.val(),phoneNumber:I.val(),company:P.val(),address1:j.val(),address2:O.val(),city:L.val(),state:M.val()?M.val():"",stateCode:F||"",zipcode:U.val(),country:H.val(),countryCode:V}),a.billingAddress=t;var R,W,K,Y,Z,B,G,J,Q,X,aa,ae,as,at,ai,ar,an,ad,al,ao,ac,ap,au=$(".header__cart-count").text();1==(R=$("#contact-data"),W=$("#ship-data"),K=$("#bil-data"),Y=R.find("#contact_firstName"),Z=R.find("#contact_lastName"),B=R.find("#contact_phoneNumber"),G=R.find("#contact_email"),J=W.find("#ship_firstName"),Q=W.find("#ship_lastName"),X=W.find("#ship_phoneNumber"),aa=(W.find("#ship_company"),W.find("#ship_address1")),ae=(W.find("#ship_address2"),W.find("#ship_city")),as=W.find("#ship_state"),at=(W.find("#ship_state option:selected").data("code"),W.find("#ship_zipcode")),ai=W.find("#ship_save_country"),W.find("#ship_save_country option:selected").data("value"),R.find(".err").remove(),ar=K.find("#bill_firstName"),an=K.find("#bill_lastName"),ad=(K.find("#bill_phoneNumber"),K.find("#bill_company"),K.find("#bill_address1")),al=(K.find("#bill_address2"),K.find("#bill_city")),ao=K.find("#bill_state"),ac=(K.find("#bill_state option:selected").data("code"),K.find("#bill_zipcode")),ap=K.find("#bill_save_country"),K.find("#bill_save_country option:selected").data("value"),0==empty(Y)&&""==Y.val()?(Y.after("<span class='err'>Enter your first name</span>"),Y.focus(),!1):0==empty(Z)&&""==Z.val()?(Z.after("<span class='err'>Enter your Last name</span>"),Z.focus(),!1):0==empty(B)&&""==B.val()?(B.after("<span class='err'>Enter your Phone number</span>"),B.focus(),!1):0==empty(G)&&""==G.val()?(G.after("<span class='err'>Enter your Email</span>"),G.focus(),!1):0==empty(J)&&""==J.val()?(J.after("<span class='err'>Enter your first name</span>"),J.focus(),!1):0==empty(Q)&&""==Q.val()?(Q.after("<span class='err'>Enter your last name</span>"),Q.focus(),!1):0!=empty(Q)||X.val()?0!=empty(aa)||aa.val()?0!=empty(ae)||ae.val()?0==empty(as)&&0==as.val()&&0==ai.val()?(as.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),as.focus(),!1):0==empty(as)&&0==as.val()&&0!=ai.val()?(as.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),as.focus(),!1):0!=empty(at)||at.val()?0==empty(ai)&&0==ai.val()?(ai.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),ai.focus(),!1):0!=empty(ar)||ar.val()?0!=empty(an)||an.val()?0!=empty(ad)||ad.val()?0!=empty(al)||al.val()?0==empty(ao)&&0==ao.val()&&0==ap.val()?(ao.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),ao.focus(),!1):0==empty(ao)&&0==ao.val()&&0!=ap.val()?(ao.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),ao.focus(),!1):0!=empty(ac)||ac.val()?0==empty(ap)&&0==ap.val()?(ap.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),ap.focus(),!1):(R.find(".err").remove(),!0):(ac.after("<span class='err'>Enter your zipcode</span>"),ac.focus(),!1):(al.after("<span class='err'>Enter your city</span>"),al.focus(),!1):(ad.after("<span class='err'>Enter your address1</span>"),ad.focus(),!1):(an.after("<span class='err'>Enter your last name</span>"),an.focus(),!1):(ar.after("<span class='err'>Enter your first name</span>"),ar.focus(),!1):(at.after("<span class='err'>Enter your zipcode</span>"),at.focus(),!1):(ae.after("<span class='err'>Enter your city</span>"),ae.focus(),!1):(aa.after("<span class='err'>Enter your address1</span>"),aa.focus(),!1):(X.after("<span class='err'>Enter your phone number</span>"),X.focus(),!1))?(console.log("validation-true"),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/user/check`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status&&0!=au?(console.log("success"),$("#custom-log-temp").prepend('<div class="bg_loader_new"></div>').fadeIn(),$(".thank_you1").trigger("click")):(confirm("Please add items in cart to continue."),window.location.href="https://monitors.com/")}})):console.log("validation-false")}),$(document).on("click",".form__input-wrapper",function(){$(this).parents(".cart_create_in").find(".err").remove()}),$(document).on("click",".error_close",function(){$(".cube-face-left").removeClass("is-active"),$(".cube-face-front").addClass("is-active"),$("#cube").removeClass("show-back show-right show-front-success show-first show-left").addClass("show-front"),$(".form-group .form__input-wrapper .form__field").val("")}),$(document).on("click",".btn-login-submit",function(){$("#cube").prepend('<div class="bg_loader"></div>').fadeIn();var l=$(this),o=$(this).parents("form"),c=o.find("#cart-login-customer-email").val(),p=o.find("#cart-login-customer-password").val();$.ajax({url:"/account/login",method:"post",data:{"customer[email]":c,"customer[password]":p,form_type:"customer_login",utf8:"✓"},dataType:"html",success:function(o){var c=new DOMParser().parseFromString(o,"text/html"),p=$(c).find("body").data("customer-id"),u={};u.shop=Shopify.shop,u.customerId=p,$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote/user/quote`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(u)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){if(!0===o.status){var c=o.data,p=JSON.parse(c.billing_address),f=JSON.parse(c.contact_data),m=(JSON.parse(c.cart_data),JSON.parse(c.shipping_address)),h=l.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),v={},y=getCartData(l);v.cart_items=y,v.cart_subtotal=h,a.shop=u.shop,a.isLogin=!0,a.customerId=u.customerId,a.contactData=f,a.shippingAddress=m,a.cart_data=v,void 0===p?l.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):(l.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),a.billingAddress=p),l.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f[0].firstName),l.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f[0].firstName+" "+f[0].lastName+"</p><span>"+f[0].email+"</span><span>"+f[0].company+"</span><span>"+f[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+m[0].firstName+" "+m[0].lastName+"</p><span>"+m[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+m[0].address1+" - "+m[0].zipcode+"</span><span>"+m[0].address2+"</span><span>"+m[0].state+", "+m[0].country+"</span>"),2==l&&void 0!==p&&$(this).find(".address-list__item-info").html('<p class="heading hey h5">'+p[0].firstName+" "+p[0].lastName+"</p><span>"+p[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+p[0].address1+" - "+p[0].zipcode+"</span><span>"+p[0].address2+"</span><span>"+p[0].state+", "+p[0].country+"</span>")}),$(".bg_loader").fadeOut();let b=$(".cube-face-back").height();$(".cart-recap").height(b)}}})}})}),$(".esc-btns").click(function(){var l=$(this),o=$(this).parents(".esc-email").find(".esc-emailInput"),c=Shopify.shop,p=$('.select-variant-cart-id option[selected="selected"]').attr("value");return $(".esc-email-notification").removeClass("esc-error esc-success"),1==empty(o.val())?(l.parents("#esc-inputs").find(".esc-email-notification").text("Enter your email address").addClass("esc-error"),o.focus(),!1):0!=empty(o.val())||r.test(o.val())?void $.ajax({type:"POST",url:"https://v2.outofstock.eastsideco.io/api/public/subscribe/email",dataType:"json",data:{alertType:"email",country:null,destination:o.val(),domain:c,marketing:!0,product_id:null,variant_id:p},success:function(o){1==o.success?(l.parents("#esc-inputs").find(".esc-email-notification").text("Your email notification request has been registered").addClass("esc-success"),l.parents("#esc-inputs").find(".esc-email").hide()):l.parents("#esc-inputs").find(".esc-email-notification").text(o.message).addClass("esc-error")}}):(l.parents("#esc-inputs").find(".esc-email-notification").text("Enter your valid email address").addClass("esc-error"),o.focus(),!1)});var candaProvince=[{text:"Alberta",value:"AB"},{text:"British Columbia",value:"BC"},{text:"Manitoba",value:"MB"},{text:"New Brunswick",value:"NB"},{text:"Newfoundland and Labrador",value:"NL"},{text:"Northwest Territories",value:"NT"},{text:"Nova Scotia",value:"NS"},{text:"Nunavut",value:"NU"},{text:"Ontario",value:"ON"},{text:"Prince Edward Island",value:"PE"},{text:"Quebec",value:"QC"},{text:"Saskatchewan",value:"SK"},{text:"Yukon Territory",value:"YT"},],usStates=[{value:"AK",text:"Alaska"},{value:"AL",text:"Alabama"},{value:"AR",text:"Arkansas"},{value:"AS",text:"American Samoa"},{value:"AZ",text:"Arizona"},{value:"CA",text:"California"},{value:"CO",text:"Colorado"},{value:"CT",text:"Connecticut"},{value:"DC",text:"District of Columbia"},{value:"DE",text:"Delaware"},{value:"FL",text:"Florida"},{value:"GA",text:"Georgia"},{value:"GU",text:"Guam"},{value:"HI",text:"Hawaii"},{value:"IA",text:"Iowa"},{value:"ID",text:"Idaho"},{value:"IL",text:"Illinois"},{value:"IN",text:"Indiana"},{value:"KS",text:"Kansas"},{value:"KY",text:"Kentucky"},{value:"LA",text:"Louisiana"},{value:"MA",text:"Massachusetts"},{value:"MD",text:"Maryland"},{value:"ME",text:"Maine"},{value:"MI",text:"Michigan"},{value:"MN",text:"Minnesota"},{value:"MO",text:"Missouri"},{value:"MS",text:"Mississippi"},{value:"MT",text:"Montana"},{value:"NC",text:"North Carolina"},{value:"ND",text:"North Dakota"},{value:"NE",text:"Nebraska"},{value:"NH",text:"New Hampshire"},{value:"NJ",text:"New Jersey"},{value:"NM",text:"New Mexico"},{value:"NV",text:"Nevada"},{value:"NY",text:"New York"},{value:"OH",text:"Ohio"},{value:"OK",text:"Oklahoma"},{value:"OR",text:"Oregon"},{value:"PA",text:"Pennsylvania"},{value:"PR",text:"Puerto Rico"},{value:"RI",text:"Rhode Island"},{value:"SC",text:"South Carolina"},{value:"SD",text:"South Dakota"},{value:"TN",text:"Tennessee"},{value:"TX",text:"Texas"},{value:"UT",text:"Utah"},{value:"VA",text:"Virginia"},{value:"VI",text:"Virgin Islands"},{value:"VT",text:"Vermont"},{value:"WA",text:"Washington"},{value:"WI",text:"Wisconsin"},{value:"WV",text:"West Virginia"},{value:"WY",text:"Wyoming"},];function getProvince(l){var o="";return"United States"==l?(o+='<option class="select__item" value="0">State</option>',$.each(usStates,function(l,c){o+='<option class="select__item" value="'+c.text+'" data-code="'+c.value+'">'+c.text+"</option>"})):"Canada"==l&&(o+='<option class="select__item" value="0">Province</option>',$.each(candaProvince,function(l,c){o+='<option class="select__item" value="'+c.text+'" data-code="'+c.value+'">'+c.text+"</option>"})),o}function enc(l,o=2){if(!l)return!1;l=btoa(l);var c="";function p(l=!1){var o=[],c="a";for(let p of(!0===l&&(c="A"),Array(26).keys()))o.push(String.fromCharCode(c.charCodeAt(0)+p));return o}return l.split("").forEach(function(l){c+=function(l,o){if(!0!==/[a-zA-Z]/.test(l))return l;var c=p();/[A-Z]/.test(l)&&(c=p(!0));for(var u=c.indexOf(l),f=1;f<=o;f++)u=c[parseInt(u)+1]?parseInt(u)+1:0;return c[u]}(l,o)}),c}document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0})),$(document).on("click",".findify-add-to-cart",function(){$("html").addClass("item-added-cart")}),$(document).ready(function(){$(".active");var l=$(".flits-view-quote-button"),o=$(".flits-collaps-quote-details");l.on("click",function(l){var o=$(l.currentTarget);o.parent().siblings(".flits-collaps-quote-details").stop().slideToggle(),o.stop().toggleClass("active")}),$(window).on("load",function(){l.removeClass("active"),$(o).css("display","")})});
//const formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"});window.addEventListener("load",function(){null!=document.querySelector(".request_flip_btn")&&document.querySelector(".request_flip_btn").classList.remove("disabled")});var attr=jQuery("body").attr("data-curr");function empty(l){return""==l||null==l||null==l}function login(l,o){return $.ajax({url:"/account/login",method:"post",data:{"customer[email]":l,"customer[password]":o,form_type:"customer_login",utf8:"✓"},dataType:"html",async:!0})}function getCartData(l){var o=[];return l.parents(".site-i-cart").find(".line-item").each(function(){var l=$(this).data("pro-id"),c=$(this).data("var-id"),p=$(this).find(".quantity-selector__value").val(),u=$(this).find(".line-item__price:not(.line-item__price--compare)").data("price"),f=$.trim($(this).find(".line-item__title").text()),m=$.trim($(this).find(".line-item__title").data("var-title")),h=$(this).find(".line-item--line-price").data("line-price"),v=$.trim($(this).find(".line-item__vendor").text()),y=$(this).find(".line-item__vendor").attr("href"),b=$(this).find(".line-item__image-wrapper img").attr("src"),g=$(this).find(".line-item__title").attr("href");o.push({productId:l,variantId:c,productTitle:f,variantTitle:m,price:u,quantity:Number(p),linePrice:h,vendorTitle:v,vendorLink:y,image:b,productUrl:g})}),o}function getCartData1(l){var o=[];return l.parents(".site-i-cart").find(".line-item").each(function(){var l=$(this).data("pro-id"),c=$(this).data("var-id"),p=$(this).find(".quantity-selector__value").val(),u=$(this).find(".line-item__price:not(.line-item__price--compare)").data("price"),f=$.trim($(this).find(".line-item__title").text()),m=$.trim($(this).find(".line-item__title").data("var-title")),h=$(this).find(".line-item--line-price").data("line-price"),v=$.trim($(this).find(".line-item__vendor").text()),y=$(this).find(".line-item__vendor").attr("href"),b=$(this).find(".line-item__image-wrapper img").attr("src"),g=$(this).find(".line-item__title").attr("href");o.push({productId:l,variantId:c,productTitle:f,variantTitle:m,price:u,quantity:Number(p),linePrice:h,vendorTitle:v,vendorLink:y,image:b,productUrl:g})}),o}void 0!==attr&&!1!==attr&&$(document).on("change","input[type='radio'][name='address']",function(){if("billing_address"==$(this).attr("id")){var l=$(".cart_create.cube-face-left").height(),o=0;o=641>$(window).width()?658:466,$(".cart-recap").height(parseFloat(l)+o),$(".billing_add").stop(!0,!0).slideDown("slow")}else{l=$(".cart_create.cube-face-left").height();var c=0;c=641>$(window).width()?615:423,setTimeout(function(){$(".cart-recap").height(parseFloat(l)-c)},500),$(".billing_add").stop(!0,!0).slideUp(500)}});var a={},e=[],s=[],t=[],r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;$(document).on("click",".submit_quote",function(l){l.preventDefault();var o=$(this),c=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),p={},u=getCartData(o);if(p.cart_items=u,p.cart_subtotal=c,1==d(o)){o.addClass("loading-true"),a.cart_data=p;var f=a;$.ajax({type:"POST",url:"https://monitors.com/apps/monitors_quote/user/check",dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status&&0==a.isLogin&&0==l.login_require?$(".thank_you").trigger("click"):($("#cube").removeClass("show-left show-right show-front-success").addClass("show-back"),$(".cube-face-back").addClass("is-active"),$(".cube-face-left").removeClass("is-active"),setTimeout(function(){var l=$(".cube-face-back").height();$(".cart-recap").height(l),o.removeClass("loading-true")},200),void 0===f.billingAddress?o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),o.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f.contactData[0].firstName),o.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.contactData[0].firstName+" "+f.contactData[0].lastName+"</p><span>"+f.contactData[0].email+"</span><span>"+f.contactData[0].company+"</span><span>"+f.contactData[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.shippingAddress[0].firstName+" "+f.shippingAddress[0].lastName+"</p><span>"+f.shippingAddress[0].phoneNumber+"</span><span>"+f.shippingAddress[0].address1+" - "+f.shippingAddress[0].zipcode+"<br>"+f.shippingAddress[0].address2+"<br>"+f.shippingAddress[0].state+", "+f.shippingAddress[0].country+"</span>"),2==l&&void 0!==f.billingAddress&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.billingAddress[0].firstName+" "+f.billingAddress[0].lastName+"</p><span>"+f.billingAddress[0].phoneNumber+"</span><span>"+f.billingAddress[0].address1+" - "+f.billingAddress[0].zipcode+"<br>"+f.billingAddress[0].address2+"<br>"+f.billingAddress[0].state+", "+f.billingAddress[0].country+"</span>")})),o.removeClass("loading-true")}})}}),$(document).on("click",".submit_quote_new",function(l){l.preventDefault();var o=$(this),c=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),p={},u=getCartData1(o);p.cart_items=u,p.cart_subtotal=c,1==function(l){s.length=0,t.length=0;var o=$("#contact-data"),c=o.find("#first_name"),p=o.find("#last_name"),u=o.find("#first_email"),f=(o.find("#first_password"),o.find("#phone_number"));a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",e.push({firstName:c.val(),lastName:p.val(),phoneNumber:f.val(),email:u.val()}),a.contactData=e;var m=l.parents(".custom_cart_create_in"),h=m.find("#ship_add_first_name"),v=m.find("#ship_add_last_name"),y=m.find("#ship_add_phone_number"),b=m.find("#ship_add_company"),g=m.find("#ship_add_address1"),_=m.find("#ship_add_address2"),C=m.find("#ship_add_city"),N=m.find("#ship_add_state"),w=m.find("#ship_add_state option:selected").data("code"),x=m.find("#ship_add_zipcode"),A=m.find("#ship_add_country"),k=m.find("#ship_add_country option:selected").data("value"),E=m.find("input[type='radio'][name='address']:checked").attr("id");if(m.find(".err").remove(),"billing_address"==E)var T=m.find("#bill_add_first_name"),S=m.find("#bill_add_last_name"),q=m.find("#bill_add_phone_number"),D=m.find("#bill_add_company"),I=m.find("#bill_add_address1"),z=m.find("#bill_add_address2"),P=m.find("#bill_add_city"),j=m.find("#bill_add_state"),O=m.find("#bill_add_state option:selected").data("code"),L=m.find("#bill_add_zipcode"),M=m.find("#bill_add_country"),F=m.find("#bill_add_country option:selected").data("value");return 0==empty(h)&&""==h.val()?(h.after("<span class='err'>Enter your first name</span>"),h.focus(),!1):0==empty(v)&&""==v.val()?(v.after("<span class='err'>Enter your last name</span>"),v.focus(),!1):0!=empty(v)||y.val()?0!=empty(b)||b.val()?0!=empty(g)||g.val()?0!=empty(C)||C.val()?0==empty(N)&&0==N.val()&&0==A.val()?(N.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),N.focus(),!1):0==empty(N)&&0==N.val()&&0!=A.val()?(N.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),N.focus(),!1):0!=empty(x)||x.val()?0==empty(A)&&0==A.val()?(A.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),A.focus(),!1):"billing_address"!=E||0!=empty(T)||T.val()?"billing_address"!=E||0!=empty(S)||S.val()?"billing_address"!=E||0!=empty(q)||q.val()?"billing_address"!=E||0!=empty(D)||D.val()?"billing_address"!=E||0!=empty(I)||I.val()?"billing_address"!=E||0!=empty(P)||P.val()?"billing_address"==E&&0==empty(j)&&0==j.val()&&0==M.val()?(j.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),j.focus(),!1):"billing_address"==E&&0==empty(j)&&0==j.val()&&0!=M.val()?(j.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),j.focus(),!1):"billing_address"!=E||0!=empty(L)||L.val()?"billing_address"==E&&0==empty(M)&&0==M.val()?(M.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),M.focus(),!1):(s.push({firstName:h.val(),lastName:v.val(),phoneNumber:y.val(),company:b.val(),address1:g.val(),address2:_.val(),city:C.val(),state:N.val(),stateCode:w,zipcode:x.val(),country:A.val(),countryCode:k}),a.shippingAddress=s,"billing_address"==E&&(t.push({firstName:T.val(),lastName:S.val(),phoneNumber:q.val(),company:D.val(),address1:I.val(),address2:z.val(),city:P.val(),state:j.val(),stateCode:O,zipcode:L.val(),country:M.val(),countryCode:F}),a.billingAddress=t),m.find(".err").remove(),!0):(L.after("<span class='err'>Enter your zipcode</span>"),L.focus(),!1):(P.after("<span class='err'>Enter your city</span>"),P.focus(),!1):(I.after("<span class='err'>Enter your address1</span>"),I.focus(),!1):(D.after("<span class='err'>Enter your company name</span>"),D.focus(),!1):(q.after("<span class='err'>Enter your phone number</span>"),q.focus(),!1):(S.after("<span class='err'>Enter your last name</span>"),S.focus(),!1):(T.after("<span class='err'>Enter your first name</span>"),T.focus(),!1):(x.after("<span class='err'>Enter your zipcode</span>"),x.focus(),!1):(C.after("<span class='err'>Enter your city</span>"),C.focus(),!1):(g.after("<span class='err'>Enter your address1</span>"),g.focus(),!1):(b.after("<span class='err'>Enter your company name</span>"),b.focus(),!1):(y.after("<span class='err'>Enter your phone number</span>"),y.focus(),!1)}(o)&&(o.addClass("loading-true"),a.cart_data=p,console.log(a),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/user/check`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status?(console.log("success"),$(".thank_you1").trigger("click")):console.log("fail"),o.removeClass("loading-true")}}))}),$(document).on("click",".submit_address_new",function(l){l.preventDefault();var o=$(this).attr("data-redirect-url"),c=$(this);c.attr("data-current-currency"),1==function(l){a.shop=Shopify.shop,a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"";var o=l.parents(".custom_cart_create_in"),c=o.find("#ship_add_first_name"),p=o.find("#ship_add_last_name"),u=o.find("#ship_add_phone_number"),f=o.find("#ship_add_company"),m=o.find("#ship_add_address1"),h=o.find("#ship_add_address2"),v=o.find("#ship_add_city"),y=o.find("#ship_add_state"),b=o.find("#ship_add_state option:selected").data("code"),g=o.find("#ship_add_zipcode"),_=o.find("#ship_add_country"),C=o.find("#ship_add_country option:selected").data("value"),N=o.find("input[type='radio'][name='address']:checked").attr("id");if(o.find(".err").remove(),"billing_address"==N)var w=o.find("#bill_add_first_name"),x=o.find("#bill_add_last_name"),A=o.find("#bill_add_phone_number"),k=o.find("#bill_add_company"),E=o.find("#bill_add_address1"),T=o.find("#bill_add_address2"),S=o.find("#bill_add_city"),q=o.find("#bill_add_state"),D=o.find("#bill_add_state option:selected").data("code"),I=o.find("#bill_add_zipcode"),z=o.find("#bill_add_country"),P=o.find("#bill_add_country option:selected").data("value");if(0==empty(c)&&""==c.val())return c.after("<span class='err'>Enter your first name</span>"),c.focus(),!1;if(0==empty(p)&&""==p.val())return p.after("<span class='err'>Enter your last name</span>"),p.focus(),!1;if(0!=empty(p)||u.val()){if(0!=empty(m)||m.val()){if(0!=empty(v)||v.val()){if(0==empty(y)&&0==y.val()&&0==_.val())return y.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),y.focus(),!1;if(0==empty(y)&&0==y.val()&&0!=_.val())return y.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),y.focus(),!1;if(0!=empty(g)||g.val()){if(0==empty(_)&&0==_.val())return _.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),_.focus(),!1;if("billing_address"!=N||0!=empty(w)||w.val()){if("billing_address"!=N||0!=empty(x)||x.val()){if("billing_address"!=N||0!=empty(E)||E.val()){if("billing_address"!=N||0!=empty(S)||S.val()){if("billing_address"==N&&0==empty(q)&&0==q.val()&&0==z.val())return q.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),q.focus(),!1;if("billing_address"==N&&0==empty(q)&&0==q.val()&&0!=z.val())return q.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),q.focus(),!1;if("billing_address"!=N||0!=empty(I)||I.val()){if("billing_address"==N&&0==empty(z)&&0==z.val())return z.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),z.focus(),!1;var j=[];return j.push({firstName:c.val(),lastName:p.val(),phoneNumber:u.val(),company:f.val(),address1:m.val(),address2:h.val(),city:v.val(),state:y.val()?y.val():"",stateCode:b||"",zipcode:g.val(),country:_.val(),countryCode:C,addressType:N}),j.shipping_address=s,"billing_address"==N&&j.push({firstName:w.val(),lastName:x.val(),phoneNumber:A.val(),company:k.val(),address1:E.val(),address2:T.val(),city:S.val(),state:q.val()?q.val():"",stateCode:D||"",zipcode:I.val(),country:z.val(),countryCode:P}),a.addresses=j,o.find(".err").remove(),!0}return I.after("<span class='err'>Enter your zipcode</span>"),I.focus(),!1}return S.after("<span class='err'>Enter your city</span>"),S.focus(),!1}return E.after("<span class='err'>Enter your address1</span>"),E.focus(),!1}return x.after("<span class='err'>Enter your last name</span>"),x.focus(),!1}return w.after("<span class='err'>Enter your first name</span>"),w.focus(),!1}return g.after("<span class='err'>Enter your zipcode</span>"),g.focus(),!1}return v.after("<span class='err'>Enter your city</span>"),v.focus(),!1}return m.after("<span class='err'>Enter your address1</span>"),m.focus(),!1}return u.after("<span class='err'>Enter your phone number</span>"),u.focus(),!1}(c)&&(c.addClass("loading-true"),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/quote/add_address`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){if("error"==l.status&&alert(l.message),"ok"==l.status){console.log("success");var p=l.data,u=p.addresses[0].firstName,f=p.addresses[0].lastName,m=p.addresses[0].phoneNumber,h=p.addresses[0].company,v=p.addresses[0].address1,y=p.addresses[0].address2,b=p.addresses[0].city,g=p.addresses[0].state,_=p.addresses[0].stateCode,C=p.addresses[0].zipcode,N=p.addresses[0].country,w=p.addresses[0].countryCode,x=p.addresses[0].id;if(p.addresses[0].addressType,"billing_address"==p.addresses[0].addressType)var A=p.addresses[1].firstName,k=p.addresses[1].lastName,E=p.addresses[1].phoneNumber,T=p.addresses[1].company,S=p.addresses[1].address1,q=p.addresses[1].address2,D=p.addresses[1].city,I=p.addresses[1].state,z=p.addresses[1].stateCode,P=p.addresses[1].zipcode,j=p.addresses[1].country,O=p.addresses[1].countryCode;else A=p.addresses[0].firstName,k=p.addresses[0].lastName,E=p.addresses[0].phoneNumber,T=p.addresses[0].company,S=p.addresses[0].address1,q=p.addresses[0].address2,D=p.addresses[0].city,I=p.addresses[0].state,z=p.addresses[0].stateCode,P=p.addresses[0].zipcode,j=p.addresses[0].country,O=p.addresses[0].countryCode;window.localStorage.setItem("formData",JSON.stringify({shipAddFirstName:u,shipAddLastName:f,shipAddPhoneNumber:m,shipAddCompany:h,shipAddAddress1:v,shipAddAddress2:y,shipAddCity:b,shipAddState:g,shipddStateCode:_,shipAddZipcode:C,shipAddCountry:N,shipAddCountryCode:w,addressId:x,bilAddFirstName:A,bilAddLastName:k,bilAddPhoneNumber:E,bilAddCompany:T,bilAddAddress1:S,bilAddAddress2:q,bilAddCity:D,bilAddState:I,bilAddStateCode:z,bilAddZipcode:P,bilAddCountry:j,bilAddCountryCode:O})),console.log(p),window.location.href=o}else console.log("fail");c.removeClass("loading-true")}}))}),$(document).on("click",".request_flip_btn",function(l){if(null!=ShopifyAnalytics.meta.page.customerId){$(".cube-face-back .address-list__item .address-list__item-info").addClass("loading-true"),$("#cube").prepend('<div class="bg_loader"></div>').fadeIn();let o=$(this);var c={};c.shop=Shopify.shop,c.customerId=ShopifyAnalytics.meta.page.customerId,$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote/user/quote`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(c)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){if(!0===l.status){$(".bg_loader").fadeOut(),$("#cube").removeClass("show-left show-right show-front-success").addClass("show-back"),$(".cube-face-front").removeClass("is-active"),$(".cube-face-back").addClass("is-active"),setTimeout(function(){let l=$(".cube-face-back").height();$(".cart-recap").height(l)},200);var p=l.data,u=JSON.parse(p.billing_address),f=JSON.parse(p.contact_data),m=(JSON.parse(p.cart_data),JSON.parse(p.shipping_address)),h=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),v={},y=getCartData(o);v.cart_items=y,v.cart_subtotal=h,a.shop=c.shop,a.isLogin=!0,a.customerId=c.customerId,a.contactData=f,a.shippingAddress=m,a.cart_data=v,void 0===u?o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):(o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),a.billingAddress=u),o.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f[0].firstName),o.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f[0].firstName+" "+f[0].lastName+"</p><span>"+f[0].email+"</span><span>"+f[0].company+"</span><span>"+f[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+m[0].firstName+" "+m[0].lastName+"</p><span>"+m[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+m[0].address1+" - "+m[0].zipcode+"</span><span>"+m[0].address2+"</span><span>"+m[0].state+", "+m[0].country+"</span>"),2==l&&void 0!==u&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+u[0].firstName+" "+u[0].lastName+"</p><span>"+u[0].phoneNumber+"</span><span>"+u[0].company+"</span><span>"+u[0].address1+" - "+u[0].zipcode+"</span><span>"+u[0].address2+"</span><span>"+u[0].state+", "+u[0].country+"</span>")}),$(".cube-face-back .address-list__item .address-list__item-info").removeClass("loading-true");let b=$(".cube-face-back").height();$(".cart-recap").height(b)}}})}else $("#cube").removeClass("show-back show-right show-front-success show-left").addClass("show-first"),$(".cube-face-first").addClass("is-active"),$(".cube-face-front").removeClass("is-active");var p=$(".cube-face-first").height()+30;$(".cart-recap").height(p);var u=$("body").attr("data-country");null!=u&&"CA"==u&&($("#ship_add_zipcode").attr("placeholder","Postal Code"),$("#bill_add_zipcode").attr("placeholder","Postal Code")),$('#ship_add_country .select__item[data-value="US"]').prop("selected",!0).trigger("change"),$('#bill_add_country .select__item[data-value="US"]').prop("selected",!0).trigger("change")}),$(document).on("click",".request_quote_continue",function(){let l=$(this);if(1==d(l)){var o=a;l.addClass("loading-true"),l.parents("#cube").find(".first-contact-data").find(".form__header .heading").text("Hi "+o.contactData[0].firstName),l.parents("#cube").find(".first-contact-data").find(".address-list .address-list__item").each(function(c){0==c&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+o.contactData[0].firstName+" "+o.contactData[0].lastName+"</p><span>"+o.contactData[0].email+"</span><span>"+o.contactData[0].company+"</span><span>"+o.contactData[0].phoneNumber+"</span>"),$.ajax({type:"POST",url:"https://monitors.com/apps/monitors_quote/user/check",dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){if(1==o.status&&0==a.isLogin&&1==o.login_require)$("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left .cart_create_in").hide(),$(".cube-face-left .cart_create_out").show(),$(".cube-face-left").addClass("is-active").siblings().removeClass("is-active"),$(".cube-face-front").removeClass("is-active");else{$("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left").addClass("is-active"),$(".cube-face-first").removeClass("is-active");var c=$(".cube-face-left").height()+30;$(".cart-recap").height(c)}l.removeClass("loading-true")}})})}}),$(document).on("click",".sign-in-click",function(){$("#account-popover").attr("aria-hidden","false")}),$("#account-popover").addClass("login-popup-transition-down"),$("#account-popover").hasClass("popover--unlogged")&&$("#account-popover").hasClass("login-popup-transition-right")?$("#account-popover").removeClass("login-popup-transition-right"):$("#account-popover").hasClass("popover--logged")&&!$("#account-popover").hasClass("login-popup-transition-right")&&$("#account-popover").addClass("login-popup-transition-right"),$(document).on("click",".acc-login-custm",function(){"false"===$("#account-popover").attr("aria-hidden")?($("#account-popover").addClass("login-popup-transition-up"),$("#account-popover").hasClass("login-popup-transition-down")&&$("#account-popover").removeClass("login-popup-transition-down")):($("#account-popover").addClass("login-popup-transition-down"),$("#account-popover").hasClass("login-popup-transition-up")&&$("#account-popover").removeClass("login-popup-transition-up"))}),$(document).on("click",".login-btn",function(){$("#cube").removeClass("show-left show-back show-front-success show-first").addClass("show-back"),$(".cube-face-back").addClass("is-active"),$(".cube-face-left").removeClass("is-active"),$(".cube-face-front").removeClass("is-active"),setTimeout(function(){var l=$(".cube-face-back").height();$(".cart-recap").height(l)},500)});var i=window.location.origin+"/apps/monitors_quote/quote/save";$(document).on("click",".thank_you",function(){var l=$(this);l.addClass("loading-true"),$.ajax({type:"POST",url:i,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){1==o.status?($.ajax({type:"POST",url:"/cart/clear.js",success:function(l){$(".cart-main-wrapper").hide(),$(".header__cart-count").text(0),$(".thanku_page_wrap").show(),$("html, body").animate({scrollTop:0},500)},dataType:"json"}),setTimeout(function(){0==a.isLogin&&1==o.login_require&&login(a.contactData[0].email,a.contactData[0].password).done(function(l){}).fail(function(l){console.log("failResponse",l)})},500)):0==a.isLogin&&1==o.login_require&&($("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left .cart_create_in").hide(),$(".cube-face-left .cart_create_out").show(),$(".cube-face-left").addClass("is-active").siblings().removeClass("is-active"),$(".cube-face-front").removeClass("is-active")),l.removeClass("loading-true")}})});var n=window.location.origin+"/apps/monitors_quote_2/quote/save";function d(l){s.length=0,t.length=0;var o=l.parents(".cart_create_in"),c=o.find("#first_name"),p=o.find("#last_name"),u=o.find("#first_email"),f=o.find("#first_password"),m=o.find("#phone_number"),h=o.find("#first_company"),v=o.find("input[type='radio'][name='address']:checked").attr("id");if(o.find(".err").remove(),l.parents(".cube-face-first").hasClass("is-active"))return 0==empty(c)&&""==c.val()?(c.after("<span class='err'>Enter your first name</span>"),c.focus(),!1):0==empty(p)&&""==p.val()?(p.after("<span class='err'>Enter your last name</span>"),p.focus(),!1):0==empty(m)&&""==m.val()?(m.after("<span class='err'>Enter your phone number</span>"),m.focus(),!1):0==empty(h)&&""==h.val()?(h.after("<span class='err'>Enter your company name</span>"),h.focus(),!1):0==empty(u)&&""==u.val()?(u.after("<span class='err'>Enter your email address</span>"),u.focus(),!1):0!=empty(u)||r.test(u.val())?0==empty(f)&&f.length>0&&""==f.val()?(f.after("<span class='err'>Enter new password</span>"),f.focus(),!1):(a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",e.push({firstName:c.val(),lastName:p.val(),phoneNumber:m.val(),company:h.val(),email:u.val(),password:f.length>0?f.val():""}),a.contactData=e,o.find(".err").remove(),!0):(u.after("<span class='err'>Enter your valid email address</span>"),u.focus(),!1);var y=o.find("#ship_add_first_name"),b=o.find("#ship_add_last_name"),g=o.find("#ship_add_phone_number"),_=o.find("#ship_add_company"),C=o.find("#ship_add_address1"),N=o.find("#ship_add_address2"),w=o.find("#ship_add_city"),x=o.find("#ship_add_state"),A=o.find("#ship_add_state option:selected").data("code"),k=o.find("#ship_add_zipcode"),E=o.find("#ship_add_country"),T=o.find("#ship_add_country option:selected").data("value");if("billing_address"==v)var S=o.find("#bill_add_first_name"),q=o.find("#bill_add_last_name"),D=o.find("#bill_add_phone_number"),I=o.find("#bill_add_company"),z=o.find("#bill_add_address1"),P=o.find("#bill_add_address2"),j=o.find("#bill_add_city"),O=o.find("#bill_add_state"),L=o.find("#bill_add_state option:selected").data("code"),M=o.find("#bill_add_zipcode"),F=o.find("#bill_add_country"),U=o.find("#bill_add_country option:selected").data("value");return 0==empty(y)&&""==y.val()?(y.after("<span class='err'>Enter your first name</span>"),y.focus(),!1):0==empty(b)&&""==b.val()?(b.after("<span class='err'>Enter your last name</span>"),b.focus(),!1):0!=empty(b)||g.val()?0!=empty(_)||_.val()?0!=empty(C)||C.val()?0!=empty(w)||w.val()?0==empty(x)&&0==x.val()&&0==E.val()?(x.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),x.focus(),!1):0==empty(x)&&0==x.val()&&0!=E.val()?(x.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),x.focus(),!1):0!=empty(k)||k.val()?0==empty(E)&&0==E.val()?(E.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),E.focus(),!1):"billing_address"!=v||0!=empty(S)||S.val()?"billing_address"!=v||0!=empty(q)||q.val()?"billing_address"!=v||0!=empty(D)||D.val()?"billing_address"!=v||0!=empty(I)||I.val()?"billing_address"!=v||0!=empty(z)||z.val()?"billing_address"!=v||0!=empty(j)||j.val()?"billing_address"==v&&0==empty(O)&&0==O.val()&&0==F.val()?(O.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),O.focus(),!1):"billing_address"==v&&0==empty(O)&&0==O.val()&&0!=F.val()?(O.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),O.focus(),!1):"billing_address"!=v||0!=empty(M)||M.val()?"billing_address"==v&&0==empty(F)&&0==F.val()?(F.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),F.focus(),!1):(s.push({firstName:y.val(),lastName:b.val(),phoneNumber:g.val(),company:_.val(),address1:C.val(),address2:N.val(),city:w.val(),state:x.val()?x.val():"",stateCode:A||"",zipcode:k.val(),country:E.val(),countryCode:T}),a.shippingAddress=s,"billing_address"==v&&(t.push({firstName:S.val(),lastName:q.val(),phoneNumber:D.val(),company:I.val(),address1:z.val(),address2:P.val(),city:j.val(),state:O.val()?O.val():"",stateCode:L||"",zipcode:M.val(),country:F.val(),countryCode:U}),a.billingAddress=t),o.find(".err").remove(),!0):(M.after("<span class='err'>Enter your zipcode</span>"),M.focus(),!1):(j.after("<span class='err'>Enter your city</span>"),j.focus(),!1):(z.after("<span class='err'>Enter your address1</span>"),z.focus(),!1):(I.after("<span class='err'>Enter your company name</span>"),I.focus(),!1):(D.after("<span class='err'>Enter your phone number</span>"),D.focus(),!1):(q.after("<span class='err'>Enter your last name</span>"),q.focus(),!1):(S.after("<span class='err'>Enter your first name</span>"),S.focus(),!1):(k.after("<span class='err'>Enter your zipcode</span>"),k.focus(),!1):(w.after("<span class='err'>Enter your city</span>"),w.focus(),!1):(C.after("<span class='err'>Enter your address1</span>"),C.focus(),!1):(_.after("<span class='err'>Enter your company name</span>"),_.focus(),!1):(g.after("<span class='err'>Enter your phone number</span>"),g.focus(),!1)}$(document).on("click",".thank_you1",function(){console.log(a);var l=$(this);let o=localStorage.getItem("monitor_quote_custom_json"),c={};if(null!==o){let p=JSON.parse(o);for(let u of a.cart_data.cart_items){let f=p.find(function(l){return+l.product_id==+u.productId});if(void 0!==f){c.message="This quote has been submitted via:",c.tag=f.tag;break}}}l.addClass("loading-true"),$.ajax({type:"POST",url:n,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()})),additional_notes:JSON.stringify(c)},success:function(o){"error"==o.status&&$(".bg_loader_new").fadeOut()&&alert(o.message),"ok"==o.status&&$.ajax({type:"POST",url:"/cart/clear.js",success:function(l){$(".cart-main-wrapper").hide(),$(".header__cart-count").text(0),$(".bg_loader_new").fadeOut(),$(".site-i-cart").removeClass("req-qt-all"),$(".thanku_page_wrap").show(),$("#custom-log-temp").hide(),$("html, body").animate({scrollTop:0},500),localStorage.removeItem("formData"),localStorage.removeItem("monitor_quote_custom_json")},dataType:"json"}),l.removeClass("loading-true")}})}),$(document).on("click",".thnks_close",function(){$("#cube").removeClass("show-left show-back show-right show-first").addClass("show-front-success"),$(".cube-face-front").addClass("is-active"),$(".cube-face-right").removeClass("is-active");var l=$(".cube-face-front").height();$(".cart-recap").height(l)}),$(document).on("ready",function(){$(document).on("click",".btn-edit",function(){var l=$(this);l.toggleClass("active"),$(this).parents(".address-list__item").find(".edit_form").is(":visible")||"contact-data"!=$(this).data("id")||(l.parents(".address-list__item").find(".edit_form").find(".err").remove(),$.each(a.contactData[0],function(o,c){l.parents(".address-list__item:not(.first-form-data)").find(".edit_form").find("#contact_"+o).val(c),l.parents(".address-list__item.first-form-data").find(".edit_form").find("#"+o).val(c)})),$(this).parents(".address-list__item").find(".edit_form").slideToggle(),setTimeout(function(){if($(".cart_create.cube-face-left").hasClass("is-active")){var l=$(".cart_create.cube-face-left").height();$(".cart-recap").height(parseFloat(l))}else{var o=$(".cart_create.cube-face-back").height();$(".cart-recap").height(parseFloat(o))}},500)})}),$(document).on("click",".save-data",function(){var l=a,o=$(this),c=$(this).parents(".address-list__item").find(".btn-edit").data("id");if($(this).parents(".address-list__item").find(".btn-edit").removeClass("active"),"contact-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id");if(o.indexOf("_")>0)var c=(o=o.split("_"))[1];else c=$(this).attr("id");""==$(this).val()||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):l.contactData[0][c]=$(this).val()});var p="";p+='<p class="heading h5">'+l.contactData[0].firstName+" "+l.contactData[0].lastName+"</p><span>"+l.contactData[0].email+"</span><span>"+l.contactData[0].company+"</span><span>"+l.contactData[0].phoneNumber+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(p)}if("shipping-add-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id"),c=(o=o.split("_"))[1];""==$(this).val()&&"ship_address2"!=$(this).attr("id")||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):"ship_save_country"==$(this).attr("id")?l.shippingAddress[0].country=$(this).val():l.shippingAddress[0][c]=$(this).val()});var u="";u+='<p class="heading h5">'+l.shippingAddress[0].firstName+" "+l.shippingAddress[0].lastName+"</p><span>"+l.shippingAddress[0].phoneNumber+"</span>",u+="<span>"+l.shippingAddress[0].company+"</span>",u+="<span>"+l.shippingAddress[0].address1+" - "+l.shippingAddress[0].zipcode+"</span>",""!=l.shippingAddress[0].address2&&(u+="<span>"+l.shippingAddress[0].address2+"</span>"),u+="<span>"+l.shippingAddress[0].state+", "+l.shippingAddress[0].country+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(u)}if("billing-add-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id"),c=(o=o.split("_"))[1];""==$(this).val()&&"bill_address2"!=$(this).attr("id")||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):"bill_save_country"==$(this).attr("id")?l.billingAddress[0].country=$(this).val():l.billingAddress[0][c]=$(this).val()});var f="";f+='<p class="heading h5">'+l.billingAddress[0].firstName+" "+l.billingAddress[0].lastName+"</p><span>"+l.billingAddress[0].phoneNumber+"</span>",f+="<span>"+l.billingAddress[0].company+"</span>",f+="<span>"+l.billingAddress[0].address1+" - "+l.billingAddress[0].zipcode+"</span>",""!=l.billingAddress[0].address2&&(f+="<span>"+l.billingAddress[0].address2+"</span>"),f+="<span>"+l.billingAddress[0].state+", "+l.billingAddress[0].country+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(f)}o.parents(".address-list__item").find(".edit_form").slideToggle(),setTimeout(function(){if($(".cart_create.cube-face-left").hasClass("is-active")){var l=$(".cart_create.cube-face-left").height();$(".cart-recap").height(parseFloat(l))}else{var o=$(".cart_create.cube-face-back").height();$(".cart-recap").height(parseFloat(o))}},500)}),$(document).on("click",".edit-quote-submit",function(){var l=$(this),o=$("#contact-data").find("#contact_firstName"),c=$("#contact-data").find("#contact_lastName"),p=$("#contact-data").find("#contact_email"),u=$("#contact-data").find("#contact_phoneNumber");a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",a.reference=$("#quote-reference").val(),a.notes=$("#special-request").val(),e.push({firstName:o.val(),lastName:c.val(),phoneNumber:u.val(),email:p.val()}),a.contactData=e;var f=l.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),m=l.parents(".site-i-cart").find(".cart-currency-iso").data("currency"),h={},v=getCartData1(l);h.cart_items=v,h.cart_subtotal=f,h.cart_currency_code=m,a.cart_data=h;var y=$("#ship-data").find("#address_id"),b=$("#ship-data").find("#ship_firstName"),g=$("#ship-data").find("#ship_lastName"),_=$("#ship-data").find("#ship_phoneNumber"),C=$("#ship-data").find("#ship_company"),N=$("#ship-data").find("#ship_address1"),w=$("#ship-data").find("#ship_address2"),x=$("#ship-data").find("#ship_city"),A=$("#ship-data").find("#ship_state"),k=$("#ship-data").find("#ship_state option:selected").data("code"),E=$("#ship-data").find("#ship_zipcode"),T=$("#ship-data").find("#ship_save_country"),S=$("#ship-data").find("#ship_save_country option:selected").data("value");s.push({addressId:y.val(),firstName:b.val(),lastName:g.val(),phoneNumber:_.val(),company:C.val(),address1:N.val(),address2:w.val(),city:x.val(),state:A.val()?A.val():"",stateCode:k||"",zipcode:E.val(),country:T.val(),countryCode:S}),a.shippingAddress=s;var q=$("#bil-data").find("#address_id"),D=$("#bil-data").find("#bill_firstName"),I=$("#bil-data").find("#bill_lastName"),z=$("#bil-data").find("#bill_phoneNumber"),P=$("#bil-data").find("#bill_company"),j=$("#bil-data").find("#bill_address1"),O=$("#bil-data").find("#bill_address2"),L=$("#bil-data").find("#bill_city"),M=$("#bil-data").find("#bill_state"),F=$("#bil-data").find("#bill_state option:selected").data("code"),U=$("#bil-data").find("#bill_zipcode"),H=$("#bil-data").find("#bill_save_country"),V=$("#bil-data").find("#bill_save_country option:selected").data("value");t.push({addressId:q.val(),firstName:D.val(),lastName:I.val(),phoneNumber:z.val(),company:P.val(),address1:j.val(),address2:O.val(),city:L.val(),state:M.val()?M.val():"",stateCode:F||"",zipcode:U.val(),country:H.val(),countryCode:V}),a.billingAddress=t;var R,W,K,Y,Z,B,G,J,Q,X,aa,ae,as,at,ai,ar,an,ad,al,ao,ac,ap,au=$(".header__cart-count").text();1==(R=$("#contact-data"),W=$("#ship-data"),K=$("#bil-data"),Y=R.find("#contact_firstName"),Z=R.find("#contact_lastName"),B=R.find("#contact_phoneNumber"),G=R.find("#contact_email"),J=W.find("#ship_firstName"),Q=W.find("#ship_lastName"),X=W.find("#ship_phoneNumber"),aa=(W.find("#ship_company"),W.find("#ship_address1")),ae=(W.find("#ship_address2"),W.find("#ship_city")),as=W.find("#ship_state"),at=(W.find("#ship_state option:selected").data("code"),W.find("#ship_zipcode")),ai=W.find("#ship_save_country"),W.find("#ship_save_country option:selected").data("value"),R.find(".err").remove(),ar=K.find("#bill_firstName"),an=K.find("#bill_lastName"),ad=(K.find("#bill_phoneNumber"),K.find("#bill_company"),K.find("#bill_address1")),al=(K.find("#bill_address2"),K.find("#bill_city")),ao=K.find("#bill_state"),ac=(K.find("#bill_state option:selected").data("code"),K.find("#bill_zipcode")),ap=K.find("#bill_save_country"),K.find("#bill_save_country option:selected").data("value"),0==empty(Y)&&""==Y.val()?(Y.after("<span class='err'>Enter your first name</span>"),Y.focus(),!1):0==empty(Z)&&""==Z.val()?(Z.after("<span class='err'>Enter your Last name</span>"),Z.focus(),!1):0==empty(B)&&""==B.val()?(B.after("<span class='err'>Enter your Phone number</span>"),B.focus(),!1):0==empty(G)&&""==G.val()?(G.after("<span class='err'>Enter your Email</span>"),G.focus(),!1):0==empty(J)&&""==J.val()?(J.after("<span class='err'>Enter your first name</span>"),J.focus(),!1):0==empty(Q)&&""==Q.val()?(Q.after("<span class='err'>Enter your last name</span>"),Q.focus(),!1):0!=empty(Q)||X.val()?0!=empty(aa)||aa.val()?0!=empty(ae)||ae.val()?0==empty(as)&&0==as.val()&&0==ai.val()?(as.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),as.focus(),!1):0==empty(as)&&0==as.val()&&0!=ai.val()?(as.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),as.focus(),!1):0!=empty(at)||at.val()?0==empty(ai)&&0==ai.val()?(ai.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),ai.focus(),!1):0!=empty(ar)||ar.val()?0!=empty(an)||an.val()?0!=empty(ad)||ad.val()?0!=empty(al)||al.val()?0==empty(ao)&&0==ao.val()&&0==ap.val()?(ao.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),ao.focus(),!1):0==empty(ao)&&0==ao.val()&&0!=ap.val()?(ao.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),ao.focus(),!1):0!=empty(ac)||ac.val()?0==empty(ap)&&0==ap.val()?(ap.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),ap.focus(),!1):(R.find(".err").remove(),!0):(ac.after("<span class='err'>Enter your zipcode</span>"),ac.focus(),!1):(al.after("<span class='err'>Enter your city</span>"),al.focus(),!1):(ad.after("<span class='err'>Enter your address1</span>"),ad.focus(),!1):(an.after("<span class='err'>Enter your last name</span>"),an.focus(),!1):(ar.after("<span class='err'>Enter your first name</span>"),ar.focus(),!1):(at.after("<span class='err'>Enter your zipcode</span>"),at.focus(),!1):(ae.after("<span class='err'>Enter your city</span>"),ae.focus(),!1):(aa.after("<span class='err'>Enter your address1</span>"),aa.focus(),!1):(X.after("<span class='err'>Enter your phone number</span>"),X.focus(),!1))?(console.log("validation-true"),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/user/check`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status&&0!=au?(console.log("success"),$("#custom-log-temp").prepend('<div class="bg_loader_new"></div>').fadeIn(),$(".thank_you1").trigger("click")):(confirm("Please add items in cart to continue."),window.location.href="https://monitors.com/")}})):console.log("validation-false")}),$(document).on("click",".form__input-wrapper",function(){$(this).parents(".cart_create_in").find(".err").remove()}),$(document).on("click",".error_close",function(){$(".cube-face-left").removeClass("is-active"),$(".cube-face-front").addClass("is-active"),$("#cube").removeClass("show-back show-right show-front-success show-first show-left").addClass("show-front"),$(".form-group .form__input-wrapper .form__field").val("")}),$(document).on("click",".btn-login-submit",function(){$("#cube").prepend('<div class="bg_loader"></div>').fadeIn();var l=$(this),o=$(this).parents("form"),c=o.find("#cart-login-customer-email").val(),p=o.find("#cart-login-customer-password").val();$.ajax({url:"/account/login",method:"post",data:{"customer[email]":c,"customer[password]":p,form_type:"customer_login",utf8:"✓"},dataType:"html",success:function(o){var c=new DOMParser().parseFromString(o,"text/html"),p=$(c).find("body").data("customer-id"),u={};u.shop=Shopify.shop,u.customerId=p,$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote/user/quote`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(u)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){if(!0===o.status){var c=o.data,p=JSON.parse(c.billing_address),f=JSON.parse(c.contact_data),m=(JSON.parse(c.cart_data),JSON.parse(c.shipping_address)),h=l.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),v={},y=getCartData(l);v.cart_items=y,v.cart_subtotal=h,a.shop=u.shop,a.isLogin=!0,a.customerId=u.customerId,a.contactData=f,a.shippingAddress=m,a.cart_data=v,void 0===p?l.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):(l.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),a.billingAddress=p),l.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f[0].firstName),l.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f[0].firstName+" "+f[0].lastName+"</p><span>"+f[0].email+"</span><span>"+f[0].company+"</span><span>"+f[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+m[0].firstName+" "+m[0].lastName+"</p><span>"+m[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+m[0].address1+" - "+m[0].zipcode+"</span><span>"+m[0].address2+"</span><span>"+m[0].state+", "+m[0].country+"</span>"),2==l&&void 0!==p&&$(this).find(".address-list__item-info").html('<p class="heading hey h5">'+p[0].firstName+" "+p[0].lastName+"</p><span>"+p[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+p[0].address1+" - "+p[0].zipcode+"</span><span>"+p[0].address2+"</span><span>"+p[0].state+", "+p[0].country+"</span>")}),$(".bg_loader").fadeOut();let b=$(".cube-face-back").height();$(".cart-recap").height(b)}}})}})}),$(".esc-btns").click(function(){var l=$(this),o=$(this).parents(".esc-email").find(".esc-emailInput"),c=Shopify.shop,p=$('.select-variant-cart-id option[selected="selected"]').attr("value");return $(".esc-email-notification").removeClass("esc-error esc-success"),1==empty(o.val())?(l.parents("#esc-inputs").find(".esc-email-notification").text("Enter your email address").addClass("esc-error"),o.focus(),!1):0!=empty(o.val())||r.test(o.val())?void $.ajax({type:"POST",url:"https://v2.outofstock.eastsideco.io/api/public/subscribe/email",dataType:"json",data:{alertType:"email",country:null,destination:o.val(),domain:c,marketing:!0,product_id:null,variant_id:p},success:function(o){1==o.success?(l.parents("#esc-inputs").find(".esc-email-notification").text("Your email notification request has been registered").addClass("esc-success"),l.parents("#esc-inputs").find(".esc-email").hide()):l.parents("#esc-inputs").find(".esc-email-notification").text(o.message).addClass("esc-error")}}):(l.parents("#esc-inputs").find(".esc-email-notification").text("Enter your valid email address").addClass("esc-error"),o.focus(),!1)});var candaProvince=[{text:"Alberta",value:"AB"},{text:"British Columbia",value:"BC"},{text:"Manitoba",value:"MB"},{text:"New Brunswick",value:"NB"},{text:"Newfoundland and Labrador",value:"NL"},{text:"Northwest Territories",value:"NT"},{text:"Nova Scotia",value:"NS"},{text:"Nunavut",value:"NU"},{text:"Ontario",value:"ON"},{text:"Prince Edward Island",value:"PE"},{text:"Quebec",value:"QC"},{text:"Saskatchewan",value:"SK"},{text:"Yukon Territory",value:"YT"},],usStates=[{value:"AK",text:"Alaska"},{value:"AL",text:"Alabama"},{value:"AR",text:"Arkansas"},{value:"AS",text:"American Samoa"},{value:"AZ",text:"Arizona"},{value:"CA",text:"California"},{value:"CO",text:"Colorado"},{value:"CT",text:"Connecticut"},{value:"DC",text:"District of Columbia"},{value:"DE",text:"Delaware"},{value:"FL",text:"Florida"},{value:"GA",text:"Georgia"},{value:"GU",text:"Guam"},{value:"HI",text:"Hawaii"},{value:"IA",text:"Iowa"},{value:"ID",text:"Idaho"},{value:"IL",text:"Illinois"},{value:"IN",text:"Indiana"},{value:"KS",text:"Kansas"},{value:"KY",text:"Kentucky"},{value:"LA",text:"Louisiana"},{value:"MA",text:"Massachusetts"},{value:"MD",text:"Maryland"},{value:"ME",text:"Maine"},{value:"MI",text:"Michigan"},{value:"MN",text:"Minnesota"},{value:"MO",text:"Missouri"},{value:"MS",text:"Mississippi"},{value:"MT",text:"Montana"},{value:"NC",text:"North Carolina"},{value:"ND",text:"North Dakota"},{value:"NE",text:"Nebraska"},{value:"NH",text:"New Hampshire"},{value:"NJ",text:"New Jersey"},{value:"NM",text:"New Mexico"},{value:"NV",text:"Nevada"},{value:"NY",text:"New York"},{value:"OH",text:"Ohio"},{value:"OK",text:"Oklahoma"},{value:"OR",text:"Oregon"},{value:"PA",text:"Pennsylvania"},{value:"PR",text:"Puerto Rico"},{value:"RI",text:"Rhode Island"},{value:"SC",text:"South Carolina"},{value:"SD",text:"South Dakota"},{value:"TN",text:"Tennessee"},{value:"TX",text:"Texas"},{value:"UT",text:"Utah"},{value:"VA",text:"Virginia"},{value:"VI",text:"Virgin Islands"},{value:"VT",text:"Vermont"},{value:"WA",text:"Washington"},{value:"WI",text:"Wisconsin"},{value:"WV",text:"West Virginia"},{value:"WY",text:"Wyoming"},];function getProvince(l){var o="";return"United States"==l?(o+='<option class="select__item" value="0">State</option>',$.each(usStates,function(l,c){o+='<option class="select__item" value="'+c.text+'" data-code="'+c.value+'">'+c.text+"</option>"})):"Canada"==l&&(o+='<option class="select__item" value="0">Province</option>',$.each(candaProvince,function(l,c){o+='<option class="select__item" value="'+c.text+'" data-code="'+c.value+'">'+c.text+"</option>"})),o}function enc(l,o=2){if(!l)return!1;l=btoa(l);var c="";function p(l=!1){var o=[],c="a";for(let p of(!0===l&&(c="A"),Array(26).keys()))o.push(String.fromCharCode(c.charCodeAt(0)+p));return o}return l.split("").forEach(function(l){c+=function(l,o){if(!0!==/[a-zA-Z]/.test(l))return l;var c=p();/[A-Z]/.test(l)&&(c=p(!0));for(var u=c.indexOf(l),f=1;f<=o;f++)u=c[parseInt(u)+1]?parseInt(u)+1:0;return c[u]}(l,o)}),c}document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0})),$(document).on("click",".findify-add-to-cart",function(){$("html").addClass("item-added-cart")}),$(document).ready(function(){$(".active");var l=$(".flits-view-quote-button"),o=$(".flits-collaps-quote-details");l.on("click",function(l){var o=$(l.currentTarget);o.parent().siblings(".flits-collaps-quote-details").stop().slideToggle(),o.stop().toggleClass("active")}),$(window).on("load",function(){l.removeClass("active"),$(o).css("display","")})});

const formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"});window.addEventListener("load",function(){null!=document.querySelector(".request_flip_btn")&&document.querySelector(".request_flip_btn").classList.remove("disabled")});var attr=jQuery("body").attr("data-curr");function empty(l){return""==l||null==l||null==l}function login(l,o){return $.ajax({url:"/account/login",method:"post",data:{"customer[email]":l,"customer[password]":o,form_type:"customer_login",utf8:"✓"},dataType:"html",async:!0})}function getCartData(l){var o=[];return l.parents(".site-i-cart").find(".line-item").each(function(){var l=$(this).data("pro-id"),c=$(this).data("var-id"),p=$(this).find(".quantity-selector__value").val(),u=$(this).find(".line-item__price:not(.line-item__price--compare)").data("price"),f=$.trim($(this).find(".line-item__title").text()),m=$.trim($(this).find(".line-item__title").data("var-title")),h=$(this).find(".line-item--line-price").data("line-price"),v=$.trim($(this).find(".line-item__vendor").text()),y=$(this).find(".line-item__vendor").attr("href"),b=$(this).find(".line-item__image-wrapper img").attr("src"),g=$(this).find(".line-item__title").attr("href");o.push({productId:l,variantId:c,productTitle:f,variantTitle:m,price:u,quantity:Number(p),linePrice:h,vendorTitle:v,vendorLink:y,image:b,productUrl:g})}),o}function getCartData1(l){var o=[];return l.parents(".site-i-cart").find(".line-item").each(function(){var l=$(this).data("pro-id"),c=$(this).data("var-id"),p=$(this).find(".quantity-selector__value").val(),u=$(this).find(".line-item__price:not(.line-item__price--compare)").data("price"),f=$.trim($(this).find(".line-item__title").text()),m=$.trim($(this).find(".line-item__title").data("var-title")),h=$(this).find(".line-item--line-price").data("line-price"),v=$.trim($(this).find(".line-item__vendor").text()),y=$(this).find(".line-item__vendor").attr("href"),b=$(this).find(".line-item__image-wrapper img").attr("src"),g=$(this).find(".line-item__title").attr("href");o.push({productId:l,variantId:c,productTitle:f,variantTitle:m,price:u,quantity:Number(p),linePrice:h,vendorTitle:v,vendorLink:y,image:b,productUrl:g})}),o}void 0!==attr&&!1!==attr&&$(document).on("change","input[type='radio'][name='address']",function(){if("billing_address"==$(this).attr("id")){var l=$(".cart_create.cube-face-left").height(),o=0;o=641>$(window).width()?658:466,$(".cart-recap").height(parseFloat(l)+o),$(".billing_add").stop(!0,!0).slideDown("slow")}else{l=$(".cart_create.cube-face-left").height();var c=0;c=641>$(window).width()?615:423,setTimeout(function(){$(".cart-recap").height(parseFloat(l)-c)},500),$(".billing_add").stop(!0,!0).slideUp(500)}});var a={},e=[],s=[],t=[],r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;$(document).on("click",".submit_quote",function(l){l.preventDefault();var o=$(this),c=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),p={},u=getCartData(o);if(p.cart_items=u,p.cart_subtotal=c,1==d(o)){o.addClass("loading-true"),a.cart_data=p;var f=a;$.ajax({type:"POST",url:"https://monitors.com/apps/monitors_quote/user/check",dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status&&0==a.isLogin&&0==l.login_require?$(".thank_you").trigger("click"):($("#cube").removeClass("show-left show-right show-front-success").addClass("show-back"),$(".cube-face-back").addClass("is-active"),$(".cube-face-left").removeClass("is-active"),setTimeout(function(){var l=$(".cube-face-back").height();$(".cart-recap").height(l),o.removeClass("loading-true")},200),void 0===f.billingAddress?o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),o.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f.contactData[0].firstName),o.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.contactData[0].firstName+" "+f.contactData[0].lastName+"</p><span>"+f.contactData[0].email+"</span><span>"+f.contactData[0].company+"</span><span>"+f.contactData[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.shippingAddress[0].firstName+" "+f.shippingAddress[0].lastName+"</p><span>"+f.shippingAddress[0].phoneNumber+"</span><span>"+f.shippingAddress[0].address1+" - "+f.shippingAddress[0].zipcode+"<br>"+f.shippingAddress[0].address2+"<br>"+f.shippingAddress[0].state+", "+f.shippingAddress[0].country+"</span>"),2==l&&void 0!==f.billingAddress&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f.billingAddress[0].firstName+" "+f.billingAddress[0].lastName+"</p><span>"+f.billingAddress[0].phoneNumber+"</span><span>"+f.billingAddress[0].address1+" - "+f.billingAddress[0].zipcode+"<br>"+f.billingAddress[0].address2+"<br>"+f.billingAddress[0].state+", "+f.billingAddress[0].country+"</span>")})),o.removeClass("loading-true")}})}}),$(document).on("click",".submit_quote_new",function(l){l.preventDefault();var o=$(this),c=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),p={},u=getCartData1(o);p.cart_items=u,p.cart_subtotal=c,1==function(l){s.length=0,t.length=0;var o=$("#contact-data"),c=o.find("#first_name"),p=o.find("#last_name"),u=o.find("#first_email"),f=(o.find("#first_password"),o.find("#phone_number"));a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",e.push({firstName:c.val(),lastName:p.val(),phoneNumber:f.val(),email:u.val()}),a.contactData=e;var m=l.parents(".custom_cart_create_in"),h=m.find("#ship_add_first_name"),v=m.find("#ship_add_last_name"),y=m.find("#ship_add_phone_number"),b=m.find("#ship_add_company"),g=m.find("#ship_add_address1"),_=m.find("#ship_add_address2"),C=m.find("#ship_add_city"),N=m.find("#ship_add_state"),w=m.find("#ship_add_state option:selected").data("code"),x=m.find("#ship_add_zipcode"),A=m.find("#ship_add_country"),k=m.find("#ship_add_country option:selected").data("value"),E=m.find("input[type='radio'][name='address']:checked").attr("id");if(m.find(".err").remove(),"billing_address"==E)var T=m.find("#bill_add_first_name"),S=m.find("#bill_add_last_name"),q=m.find("#bill_add_phone_number"),D=m.find("#bill_add_company"),I=m.find("#bill_add_address1"),z=m.find("#bill_add_address2"),P=m.find("#bill_add_city"),j=m.find("#bill_add_state"),O=m.find("#bill_add_state option:selected").data("code"),L=m.find("#bill_add_zipcode"),M=m.find("#bill_add_country"),F=m.find("#bill_add_country option:selected").data("value");return 0==empty(h)&&""==h.val()?(h.after("<span class='err'>Enter your first name</span>"),h.focus(),!1):0==empty(v)&&""==v.val()?(v.after("<span class='err'>Enter your last name</span>"),v.focus(),!1):0!=empty(v)||y.val()?0!=empty(b)||b.val()?0!=empty(g)||g.val()?0!=empty(C)||C.val()?0==empty(N)&&0==N.val()&&0==A.val()?(N.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),N.focus(),!1):0==empty(N)&&0==N.val()&&0!=A.val()?(N.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),N.focus(),!1):0!=empty(x)||x.val()?0==empty(A)&&0==A.val()?(A.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),A.focus(),!1):"billing_address"!=E||0!=empty(T)||T.val()?"billing_address"!=E||0!=empty(S)||S.val()?"billing_address"!=E||0!=empty(q)||q.val()?"billing_address"!=E||0!=empty(D)||D.val()?"billing_address"!=E||0!=empty(I)||I.val()?"billing_address"!=E||0!=empty(P)||P.val()?"billing_address"==E&&0==empty(j)&&0==j.val()&&0==M.val()?(j.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),j.focus(),!1):"billing_address"==E&&0==empty(j)&&0==j.val()&&0!=M.val()?(j.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),j.focus(),!1):"billing_address"!=E||0!=empty(L)||L.val()?"billing_address"==E&&0==empty(M)&&0==M.val()?(M.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),M.focus(),!1):(s.push({firstName:h.val(),lastName:v.val(),phoneNumber:y.val(),company:b.val(),address1:g.val(),address2:_.val(),city:C.val(),state:N.val(),stateCode:w,zipcode:x.val(),country:A.val(),countryCode:k}),a.shippingAddress=s,"billing_address"==E&&(t.push({firstName:T.val(),lastName:S.val(),phoneNumber:q.val(),company:D.val(),address1:I.val(),address2:z.val(),city:P.val(),state:j.val(),stateCode:O,zipcode:L.val(),country:M.val(),countryCode:F}),a.billingAddress=t),m.find(".err").remove(),!0):(L.after("<span class='err'>Enter your zipcode</span>"),L.focus(),!1):(P.after("<span class='err'>Enter your city</span>"),P.focus(),!1):(I.after("<span class='err'>Enter your address1</span>"),I.focus(),!1):(D.after("<span class='err'>Enter your company name</span>"),D.focus(),!1):(q.after("<span class='err'>Enter your phone number</span>"),q.focus(),!1):(S.after("<span class='err'>Enter your last name</span>"),S.focus(),!1):(T.after("<span class='err'>Enter your first name</span>"),T.focus(),!1):(x.after("<span class='err'>Enter your zipcode</span>"),x.focus(),!1):(C.after("<span class='err'>Enter your city</span>"),C.focus(),!1):(g.after("<span class='err'>Enter your address1</span>"),g.focus(),!1):(b.after("<span class='err'>Enter your company name</span>"),b.focus(),!1):(y.after("<span class='err'>Enter your phone number</span>"),y.focus(),!1)}(o)&&(o.addClass("loading-true"),a.cart_data=p,console.log(a),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/user/check`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status?(console.log("success"),$(".thank_you1").trigger("click")):console.log("fail"),o.removeClass("loading-true")}}))}),$(document).on("click",".submit_address_new",function(l){l.preventDefault();var o=$(this).attr("data-redirect-url"),c=$(this);c.attr("data-current-currency"),1==function(l){a.shop=Shopify.shop,a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"";var o=l.parents(".custom_cart_create_in"),c=o.find("#ship_add_first_name"),p=o.find("#ship_add_last_name"),u=o.find("#ship_add_phone_number"),f=o.find("#ship_add_company"),m=o.find("#ship_add_address1"),h=o.find("#ship_add_address2"),v=o.find("#ship_add_city"),y=o.find("#ship_add_state"),b=o.find("#ship_add_state option:selected").data("code"),g=o.find("#ship_add_zipcode"),_=o.find("#ship_add_country"),C=o.find("#ship_add_country option:selected").data("value"),N=o.find("input[type='radio'][name='address']:checked").attr("id");if(o.find(".err").remove(),"billing_address"==N)var w=o.find("#bill_add_first_name"),x=o.find("#bill_add_last_name"),A=o.find("#bill_add_phone_number"),k=o.find("#bill_add_company"),E=o.find("#bill_add_address1"),T=o.find("#bill_add_address2"),S=o.find("#bill_add_city"),q=o.find("#bill_add_state"),D=o.find("#bill_add_state option:selected").data("code"),I=o.find("#bill_add_zipcode"),z=o.find("#bill_add_country"),P=o.find("#bill_add_country option:selected").data("value");if(0==empty(c)&&""==c.val())return c.after("<span class='err'>Enter your first name</span>"),c.focus(),!1;if(0==empty(p)&&""==p.val())return p.after("<span class='err'>Enter your last name</span>"),p.focus(),!1;if(0!=empty(p)||u.val()){if(0!=empty(m)||m.val()){if(0!=empty(v)||v.val()){if(0==empty(y)&&0==y.val()&&0==_.val())return y.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),y.focus(),!1;if(0==empty(y)&&0==y.val()&&0!=_.val())return y.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),y.focus(),!1;if(0!=empty(g)||g.val()){if(0==empty(_)&&0==_.val())return _.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),_.focus(),!1;if("billing_address"!=N||0!=empty(w)||w.val()){if("billing_address"!=N||0!=empty(x)||x.val()){if("billing_address"!=N||0!=empty(E)||E.val()){if("billing_address"!=N||0!=empty(S)||S.val()){if("billing_address"==N&&0==empty(q)&&0==q.val()&&0==z.val())return q.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),q.focus(),!1;if("billing_address"==N&&0==empty(q)&&0==q.val()&&0!=z.val())return q.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),q.focus(),!1;if("billing_address"!=N||0!=empty(I)||I.val()){if("billing_address"==N&&0==empty(z)&&0==z.val())return z.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),z.focus(),!1;var j=[];return j.push({firstName:c.val(),lastName:p.val(),phoneNumber:u.val(),company:f.val(),address1:m.val(),address2:h.val(),city:v.val(),state:y.val()?y.val():"",stateCode:b||"",zipcode:g.val(),country:_.val(),countryCode:C,addressType:N}),j.shipping_address=s,"billing_address"==N&&j.push({firstName:w.val(),lastName:x.val(),phoneNumber:A.val(),company:k.val(),address1:E.val(),address2:T.val(),city:S.val(),state:q.val()?q.val():"",stateCode:D||"",zipcode:I.val(),country:z.val(),countryCode:P}),a.addresses=j,o.find(".err").remove(),!0}return I.after("<span class='err'>Enter your zipcode</span>"),I.focus(),!1}return S.after("<span class='err'>Enter your city</span>"),S.focus(),!1}return E.after("<span class='err'>Enter your address1</span>"),E.focus(),!1}return x.after("<span class='err'>Enter your last name</span>"),x.focus(),!1}return w.after("<span class='err'>Enter your first name</span>"),w.focus(),!1}return g.after("<span class='err'>Enter your zipcode</span>"),g.focus(),!1}return v.after("<span class='err'>Enter your city</span>"),v.focus(),!1}return m.after("<span class='err'>Enter your address1</span>"),m.focus(),!1}return u.after("<span class='err'>Enter your phone number</span>"),u.focus(),!1}(c)&&(c.addClass("loading-true"),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/quote/add_address`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){if("error"==l.status&&alert(l.message),"ok"==l.status){console.log("success");var p=l.data,u=p.addresses[0].firstName,f=p.addresses[0].lastName,m=p.addresses[0].phoneNumber,h=p.addresses[0].company,v=p.addresses[0].address1,y=p.addresses[0].address2,b=p.addresses[0].city,g=p.addresses[0].state,_=p.addresses[0].stateCode,C=p.addresses[0].zipcode,N=p.addresses[0].country,w=p.addresses[0].countryCode,x=p.addresses[0].id;if(p.addresses[0].addressType,"billing_address"==p.addresses[0].addressType)var A=p.addresses[1].firstName,k=p.addresses[1].lastName,E=p.addresses[1].phoneNumber,T=p.addresses[1].company,S=p.addresses[1].address1,q=p.addresses[1].address2,D=p.addresses[1].city,I=p.addresses[1].state,z=p.addresses[1].stateCode,P=p.addresses[1].zipcode,j=p.addresses[1].country,O=p.addresses[1].countryCode;else A=p.addresses[0].firstName,k=p.addresses[0].lastName,E=p.addresses[0].phoneNumber,T=p.addresses[0].company,S=p.addresses[0].address1,q=p.addresses[0].address2,D=p.addresses[0].city,I=p.addresses[0].state,z=p.addresses[0].stateCode,P=p.addresses[0].zipcode,j=p.addresses[0].country,O=p.addresses[0].countryCode;window.localStorage.setItem("formData",JSON.stringify({shipAddFirstName:u,shipAddLastName:f,shipAddPhoneNumber:m,shipAddCompany:h,shipAddAddress1:v,shipAddAddress2:y,shipAddCity:b,shipAddState:g,shipddStateCode:_,shipAddZipcode:C,shipAddCountry:N,shipAddCountryCode:w,addressId:x,bilAddFirstName:A,bilAddLastName:k,bilAddPhoneNumber:E,bilAddCompany:T,bilAddAddress1:S,bilAddAddress2:q,bilAddCity:D,bilAddState:I,bilAddStateCode:z,bilAddZipcode:P,bilAddCountry:j,bilAddCountryCode:O})),console.log(p),window.location.href=o}else console.log("fail");c.removeClass("loading-true")}}))}),$(document).on("click",".request_flip_btn",function(l){if(null!=ShopifyAnalytics.meta.page.customerId){$(".cube-face-back .address-list__item .address-list__item-info").addClass("loading-true"),$("#cube").prepend('<div class="bg_loader"></div>').fadeIn();let o=$(this);var c={};c.shop=Shopify.shop,c.customerId=ShopifyAnalytics.meta.page.customerId,$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote/user/quote`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(c)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){if(!0===l.status){$(".bg_loader").fadeOut(),$("#cube").removeClass("show-left show-right show-front-success").addClass("show-back"),$(".cube-face-front").removeClass("is-active"),$(".cube-face-back").addClass("is-active"),setTimeout(function(){let l=$(".cube-face-back").height();$(".cart-recap").height(l)},200);var p=l.data,u=JSON.parse(p.billing_address),f=JSON.parse(p.contact_data),m=(JSON.parse(p.cart_data),JSON.parse(p.shipping_address)),h=o.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),v={},y=getCartData(o);v.cart_items=y,v.cart_subtotal=h,a.shop=c.shop,a.isLogin=!0,a.customerId=c.customerId,a.contactData=f,a.shippingAddress=m,a.cart_data=v,void 0===u?o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):(o.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),a.billingAddress=u),o.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f[0].firstName),o.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f[0].firstName+" "+f[0].lastName+"</p><span>"+f[0].email+"</span><span>"+f[0].company+"</span><span>"+f[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+m[0].firstName+" "+m[0].lastName+"</p><span>"+m[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+m[0].address1+" - "+m[0].zipcode+"</span><span>"+m[0].address2+"</span><span>"+m[0].state+", "+m[0].country+"</span>"),2==l&&void 0!==u&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+u[0].firstName+" "+u[0].lastName+"</p><span>"+u[0].phoneNumber+"</span><span>"+u[0].company+"</span><span>"+u[0].address1+" - "+u[0].zipcode+"</span><span>"+u[0].address2+"</span><span>"+u[0].state+", "+u[0].country+"</span>")}),$(".cube-face-back .address-list__item .address-list__item-info").removeClass("loading-true");let b=$(".cube-face-back").height();$(".cart-recap").height(b)}}})}else $("#cube").removeClass("show-back show-right show-front-success show-left").addClass("show-first"),$(".cube-face-first").addClass("is-active"),$(".cube-face-front").removeClass("is-active");var p=$(".cube-face-first").height()+30;$(".cart-recap").height(p);var u=$("body").attr("data-country");null!=u&&"CA"==u&&($("#ship_add_zipcode").attr("placeholder","Postal Code"),$("#bill_add_zipcode").attr("placeholder","Postal Code")),$('#ship_add_country .select__item[data-value="US"]').prop("selected",!0).trigger("change"),$('#bill_add_country .select__item[data-value="US"]').prop("selected",!0).trigger("change")}),$(document).on("click",".request_quote_continue",function(){let l=$(this);if(1==d(l)){var o=a;l.addClass("loading-true"),l.parents("#cube").find(".first-contact-data").find(".form__header .heading").text("Hi "+o.contactData[0].firstName),l.parents("#cube").find(".first-contact-data").find(".address-list .address-list__item").each(function(c){0==c&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+o.contactData[0].firstName+" "+o.contactData[0].lastName+"</p><span>"+o.contactData[0].email+"</span><span>"+o.contactData[0].company+"</span><span>"+o.contactData[0].phoneNumber+"</span>"),$.ajax({type:"POST",url:"https://monitors.com/apps/monitors_quote/user/check",dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){if(1==o.status&&0==a.isLogin&&1==o.login_require)$("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left .cart_create_in").hide(),$(".cube-face-left .cart_create_out").show(),$(".cube-face-left").addClass("is-active").siblings().removeClass("is-active"),$(".cube-face-front").removeClass("is-active");else{$("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left").addClass("is-active"),$(".cube-face-first").removeClass("is-active");var c=$(".cube-face-left").height()+30;$(".cart-recap").height(c)}l.removeClass("loading-true")}})})}}),$(document).on("click",".sign-in-click",function(){$("#account-popover").attr("aria-hidden","false")}),$("#account-popover").addClass("login-popup-transition-down"),$("#account-popover").hasClass("popover--unlogged")&&$("#account-popover").hasClass("login-popup-transition-right")?$("#account-popover").removeClass("login-popup-transition-right"):$("#account-popover").hasClass("popover--logged")&&!$("#account-popover").hasClass("login-popup-transition-right")&&$("#account-popover").addClass("login-popup-transition-right"),$(document).on("click",".acc-login-custm",function(){"false"===$("#account-popover").attr("aria-hidden")?($("#account-popover").addClass("login-popup-transition-up"),$("#account-popover").hasClass("login-popup-transition-down")&&$("#account-popover").removeClass("login-popup-transition-down")):($("#account-popover").addClass("login-popup-transition-down"),$("#account-popover").hasClass("login-popup-transition-up")&&$("#account-popover").removeClass("login-popup-transition-up"))}),$(document).on("click",".login-btn",function(){$("#cube").removeClass("show-left show-back show-front-success show-first").addClass("show-back"),$(".cube-face-back").addClass("is-active"),$(".cube-face-left").removeClass("is-active"),$(".cube-face-front").removeClass("is-active"),setTimeout(function(){var l=$(".cube-face-back").height();$(".cart-recap").height(l)},500)});var i=window.location.origin+"/apps/monitors_quote/quote/save";$(document).on("click",".thank_you",function(){var l=$(this);l.addClass("loading-true"),$.ajax({type:"POST",url:i,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){1==o.status?($.ajax({type:"POST",url:"/cart/clear.js",success:function(l){$(".cart-main-wrapper").hide(),$(".header__cart-count").text(0),$(".thanku_page_wrap").show(),$("html, body").animate({scrollTop:0},500)},dataType:"json"}),setTimeout(function(){0==a.isLogin&&1==o.login_require&&login(a.contactData[0].email,a.contactData[0].password).done(function(l){}).fail(function(l){console.log("failResponse",l)})},500)):0==a.isLogin&&1==o.login_require&&($("#cube").removeClass("show-back show-right show-front-success show-first").addClass("show-left"),$(".cube-face-left .cart_create_in").hide(),$(".cube-face-left .cart_create_out").show(),$(".cube-face-left").addClass("is-active").siblings().removeClass("is-active"),$(".cube-face-front").removeClass("is-active")),l.removeClass("loading-true")}})});var n=window.location.origin+"/apps/monitors_quote_2/quote/save";function d(l){s.length=0,t.length=0;var o=l.parents(".cart_create_in"),c=o.find("#first_name"),p=o.find("#last_name"),u=o.find("#first_email"),f=o.find("#first_password"),m=o.find("#phone_number"),h=o.find("#first_company"),v=o.find("input[type='radio'][name='address']:checked").attr("id");if(o.find(".err").remove(),l.parents(".cube-face-first").hasClass("is-active"))return 0==empty(c)&&""==c.val()?(c.after("<span class='err'>Enter your first name</span>"),c.focus(),!1):0==empty(p)&&""==p.val()?(p.after("<span class='err'>Enter your last name</span>"),p.focus(),!1):0==empty(m)&&""==m.val()?(m.after("<span class='err'>Enter your phone number</span>"),m.focus(),!1):0==empty(h)&&""==h.val()?(h.after("<span class='err'>Enter your company name</span>"),h.focus(),!1):0==empty(u)&&""==u.val()?(u.after("<span class='err'>Enter your email address</span>"),u.focus(),!1):0!=empty(u)||r.test(u.val())?0==empty(f)&&f.length>0&&""==f.val()?(f.after("<span class='err'>Enter new password</span>"),f.focus(),!1):(a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",e.push({firstName:c.val(),lastName:p.val(),phoneNumber:m.val(),company:h.val(),email:u.val(),password:f.length>0?f.val():""}),a.contactData=e,o.find(".err").remove(),!0):(u.after("<span class='err'>Enter your valid email address</span>"),u.focus(),!1);var y=o.find("#ship_add_first_name"),b=o.find("#ship_add_last_name"),g=o.find("#ship_add_phone_number"),_=o.find("#ship_add_company"),C=o.find("#ship_add_address1"),N=o.find("#ship_add_address2"),w=o.find("#ship_add_city"),x=o.find("#ship_add_state"),A=o.find("#ship_add_state option:selected").data("code"),k=o.find("#ship_add_zipcode"),E=o.find("#ship_add_country"),T=o.find("#ship_add_country option:selected").data("value");if("billing_address"==v)var S=o.find("#bill_add_first_name"),q=o.find("#bill_add_last_name"),D=o.find("#bill_add_phone_number"),I=o.find("#bill_add_company"),z=o.find("#bill_add_address1"),P=o.find("#bill_add_address2"),j=o.find("#bill_add_city"),O=o.find("#bill_add_state"),L=o.find("#bill_add_state option:selected").data("code"),M=o.find("#bill_add_zipcode"),F=o.find("#bill_add_country"),U=o.find("#bill_add_country option:selected").data("value");return 0==empty(y)&&""==y.val()?(y.after("<span class='err'>Enter your first name</span>"),y.focus(),!1):0==empty(b)&&""==b.val()?(b.after("<span class='err'>Enter your last name</span>"),b.focus(),!1):0!=empty(b)||g.val()?0!=empty(_)||_.val()?0!=empty(C)||C.val()?0!=empty(w)||w.val()?0==empty(x)&&0==x.val()&&0==E.val()?(x.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),x.focus(),!1):0==empty(x)&&0==x.val()&&0!=E.val()?(x.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),x.focus(),!1):0!=empty(k)||k.val()?0==empty(E)&&0==E.val()?(E.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),E.focus(),!1):"billing_address"!=v||0!=empty(S)||S.val()?"billing_address"!=v||0!=empty(q)||q.val()?"billing_address"!=v||0!=empty(D)||D.val()?"billing_address"!=v||0!=empty(I)||I.val()?"billing_address"!=v||0!=empty(z)||z.val()?"billing_address"!=v||0!=empty(j)||j.val()?"billing_address"==v&&0==empty(O)&&0==O.val()&&0==F.val()?(O.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),O.focus(),!1):"billing_address"==v&&0==empty(O)&&0==O.val()&&0!=F.val()?(O.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),O.focus(),!1):"billing_address"!=v||0!=empty(M)||M.val()?"billing_address"==v&&0==empty(F)&&0==F.val()?(F.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),F.focus(),!1):(s.push({firstName:y.val(),lastName:b.val(),phoneNumber:g.val(),company:_.val(),address1:C.val(),address2:N.val(),city:w.val(),state:x.val()?x.val():"",stateCode:A||"",zipcode:k.val(),country:E.val(),countryCode:T}),a.shippingAddress=s,"billing_address"==v&&(t.push({firstName:S.val(),lastName:q.val(),phoneNumber:D.val(),company:I.val(),address1:z.val(),address2:P.val(),city:j.val(),state:O.val()?O.val():"",stateCode:L||"",zipcode:M.val(),country:F.val(),countryCode:U}),a.billingAddress=t),o.find(".err").remove(),!0):(M.after("<span class='err'>Enter your zipcode</span>"),M.focus(),!1):(j.after("<span class='err'>Enter your city</span>"),j.focus(),!1):(z.after("<span class='err'>Enter your address1</span>"),z.focus(),!1):(I.after("<span class='err'>Enter your company name</span>"),I.focus(),!1):(D.after("<span class='err'>Enter your phone number</span>"),D.focus(),!1):(q.after("<span class='err'>Enter your last name</span>"),q.focus(),!1):(S.after("<span class='err'>Enter your first name</span>"),S.focus(),!1):(k.after("<span class='err'>Enter your zipcode</span>"),k.focus(),!1):(w.after("<span class='err'>Enter your city</span>"),w.focus(),!1):(C.after("<span class='err'>Enter your address1</span>"),C.focus(),!1):(_.after("<span class='err'>Enter your company name</span>"),_.focus(),!1):(g.after("<span class='err'>Enter your phone number</span>"),g.focus(),!1)}$(document).on("click",".thank_you1",function(){console.log(a);var l=$(this);let o=localStorage.getItem("monitor_quote_custom_json"),c={};if(null!==o){let p=JSON.parse(o);for(let u of a.cart_data.cart_items){let f=p.find(function(l){return+l.product_id==+u.productId});if(void 0!==f){c.message="quote_tag",c.tag=f.tag;break}}}l.addClass("loading-true"),$.ajax({type:"POST",url:n,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()})),additional_notes:JSON.stringify(c)},success:function(o){"error"==o.status&&$(".bg_loader_new").fadeOut()&&alert(o.message),"ok"==o.status&&$.ajax({type:"POST",url:"/cart/clear.js",success:function(l){$(".cart-main-wrapper").hide(),$(".header__cart-count").text(0),$(".bg_loader_new").fadeOut(),$(".site-i-cart").removeClass("req-qt-all"),$(".thanku_page_wrap").show(),$("#custom-log-temp").hide(),$("html, body").animate({scrollTop:0},500),localStorage.removeItem("formData"),localStorage.removeItem("monitor_quote_custom_json")},dataType:"json"}),l.removeClass("loading-true")}})}),$(document).on("click",".thnks_close",function(){$("#cube").removeClass("show-left show-back show-right show-first").addClass("show-front-success"),$(".cube-face-front").addClass("is-active"),$(".cube-face-right").removeClass("is-active");var l=$(".cube-face-front").height();$(".cart-recap").height(l)}),$(document).on("ready",function(){$(document).on("click",".btn-edit",function(){var l=$(this);l.toggleClass("active"),$(this).parents(".address-list__item").find(".edit_form").is(":visible")||"contact-data"!=$(this).data("id")||(l.parents(".address-list__item").find(".edit_form").find(".err").remove(),$.each(a.contactData[0],function(o,c){l.parents(".address-list__item:not(.first-form-data)").find(".edit_form").find("#contact_"+o).val(c),l.parents(".address-list__item.first-form-data").find(".edit_form").find("#"+o).val(c)})),$(this).parents(".address-list__item").find(".edit_form").slideToggle(),setTimeout(function(){if($(".cart_create.cube-face-left").hasClass("is-active")){var l=$(".cart_create.cube-face-left").height();$(".cart-recap").height(parseFloat(l))}else{var o=$(".cart_create.cube-face-back").height();$(".cart-recap").height(parseFloat(o))}},500)})}),$(document).on("click",".save-data",function(){var l=a,o=$(this),c=$(this).parents(".address-list__item").find(".btn-edit").data("id");if($(this).parents(".address-list__item").find(".btn-edit").removeClass("active"),"contact-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id");if(o.indexOf("_")>0)var c=(o=o.split("_"))[1];else c=$(this).attr("id");""==$(this).val()||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):l.contactData[0][c]=$(this).val()});var p="";p+='<p class="heading h5">'+l.contactData[0].firstName+" "+l.contactData[0].lastName+"</p><span>"+l.contactData[0].email+"</span><span>"+l.contactData[0].company+"</span><span>"+l.contactData[0].phoneNumber+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(p)}if("shipping-add-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id"),c=(o=o.split("_"))[1];""==$(this).val()&&"ship_address2"!=$(this).attr("id")||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):"ship_save_country"==$(this).attr("id")?l.shippingAddress[0].country=$(this).val():l.shippingAddress[0][c]=$(this).val()});var u="";u+='<p class="heading h5">'+l.shippingAddress[0].firstName+" "+l.shippingAddress[0].lastName+"</p><span>"+l.shippingAddress[0].phoneNumber+"</span>",u+="<span>"+l.shippingAddress[0].company+"</span>",u+="<span>"+l.shippingAddress[0].address1+" - "+l.shippingAddress[0].zipcode+"</span>",""!=l.shippingAddress[0].address2&&(u+="<span>"+l.shippingAddress[0].address2+"</span>"),u+="<span>"+l.shippingAddress[0].state+", "+l.shippingAddress[0].country+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(u)}if("billing-add-data"==c){$(this).parents(".edit_form").find(".err").remove(),$(this).parents(".edit_form").find(".form__field").each(function(){var o=$(this).attr("id"),c=(o=o.split("_"))[1];""==$(this).val()&&"bill_address2"!=$(this).attr("id")||void 0===$(this).val()?$(this).after("<span class='err'>Please fill the data</span>"):"bill_save_country"==$(this).attr("id")?l.billingAddress[0].country=$(this).val():l.billingAddress[0][c]=$(this).val()});var f="";f+='<p class="heading h5">'+l.billingAddress[0].firstName+" "+l.billingAddress[0].lastName+"</p><span>"+l.billingAddress[0].phoneNumber+"</span>",f+="<span>"+l.billingAddress[0].company+"</span>",f+="<span>"+l.billingAddress[0].address1+" - "+l.billingAddress[0].zipcode+"</span>",""!=l.billingAddress[0].address2&&(f+="<span>"+l.billingAddress[0].address2+"</span>"),f+="<span>"+l.billingAddress[0].state+", "+l.billingAddress[0].country+"</span>",$(this).parents(".address-list__item").find(".address-list__item-info").html(f)}o.parents(".address-list__item").find(".edit_form").slideToggle(),setTimeout(function(){if($(".cart_create.cube-face-left").hasClass("is-active")){var l=$(".cart_create.cube-face-left").height();$(".cart-recap").height(parseFloat(l))}else{var o=$(".cart_create.cube-face-back").height();$(".cart-recap").height(parseFloat(o))}},500)}),$(document).on("click",".edit-quote-submit",function(){var l=$(this),o=$("#contact-data").find("#contact_firstName"),c=$("#contact-data").find("#contact_lastName"),p=$("#contact-data").find("#contact_email"),u=$("#contact-data").find("#contact_phoneNumber");a.shop=Shopify.shop,a.isLogin=1==l.data("user"),a.customerId=void 0!==l.data("customer-id")?l.data("customer-id"):"",a.reference=$("#quote-reference").val(),a.notes=$("#special-request").val(),e.push({firstName:o.val(),lastName:c.val(),phoneNumber:u.val(),email:p.val()}),a.contactData=e;var f=l.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),m=l.parents(".site-i-cart").find(".cart-currency-iso").data("currency"),h={},v=getCartData1(l);h.cart_items=v,h.cart_subtotal=f,h.cart_currency_code=m,a.cart_data=h;var y=$("#ship-data").find("#address_id"),b=$("#ship-data").find("#ship_firstName"),g=$("#ship-data").find("#ship_lastName"),_=$("#ship-data").find("#ship_phoneNumber"),C=$("#ship-data").find("#ship_company"),N=$("#ship-data").find("#ship_address1"),w=$("#ship-data").find("#ship_address2"),x=$("#ship-data").find("#ship_city"),A=$("#ship-data").find("#ship_state"),k=$("#ship-data").find("#ship_state option:selected").data("code"),E=$("#ship-data").find("#ship_zipcode"),T=$("#ship-data").find("#ship_save_country"),S=$("#ship-data").find("#ship_save_country option:selected").data("value");s.push({addressId:y.val(),firstName:b.val(),lastName:g.val(),phoneNumber:_.val(),company:C.val(),address1:N.val(),address2:w.val(),city:x.val(),state:A.val()?A.val():"",stateCode:k||"",zipcode:E.val(),country:T.val(),countryCode:S}),a.shippingAddress=s;var q=$("#bil-data").find("#address_id"),D=$("#bil-data").find("#bill_firstName"),I=$("#bil-data").find("#bill_lastName"),z=$("#bil-data").find("#bill_phoneNumber"),P=$("#bil-data").find("#bill_company"),j=$("#bil-data").find("#bill_address1"),O=$("#bil-data").find("#bill_address2"),L=$("#bil-data").find("#bill_city"),M=$("#bil-data").find("#bill_state"),F=$("#bil-data").find("#bill_state option:selected").data("code"),U=$("#bil-data").find("#bill_zipcode"),H=$("#bil-data").find("#bill_save_country"),V=$("#bil-data").find("#bill_save_country option:selected").data("value");t.push({addressId:q.val(),firstName:D.val(),lastName:I.val(),phoneNumber:z.val(),company:P.val(),address1:j.val(),address2:O.val(),city:L.val(),state:M.val()?M.val():"",stateCode:F||"",zipcode:U.val(),country:H.val(),countryCode:V}),a.billingAddress=t;var R,W,K,Y,Z,B,G,J,Q,X,aa,ae,as,at,ai,ar,an,ad,al,ao,ac,ap,au=$(".header__cart-count").text();1==(R=$("#contact-data"),W=$("#ship-data"),K=$("#bil-data"),Y=R.find("#contact_firstName"),Z=R.find("#contact_lastName"),B=R.find("#contact_phoneNumber"),G=R.find("#contact_email"),J=W.find("#ship_firstName"),Q=W.find("#ship_lastName"),X=W.find("#ship_phoneNumber"),aa=(W.find("#ship_company"),W.find("#ship_address1")),ae=(W.find("#ship_address2"),W.find("#ship_city")),as=W.find("#ship_state"),at=(W.find("#ship_state option:selected").data("code"),W.find("#ship_zipcode")),ai=W.find("#ship_save_country"),W.find("#ship_save_country option:selected").data("value"),R.find(".err").remove(),ar=K.find("#bill_firstName"),an=K.find("#bill_lastName"),ad=(K.find("#bill_phoneNumber"),K.find("#bill_company"),K.find("#bill_address1")),al=(K.find("#bill_address2"),K.find("#bill_city")),ao=K.find("#bill_state"),ac=(K.find("#bill_state option:selected").data("code"),K.find("#bill_zipcode")),ap=K.find("#bill_save_country"),K.find("#bill_save_country option:selected").data("value"),0==empty(Y)&&""==Y.val()?(Y.after("<span class='err'>Enter your first name</span>"),Y.focus(),!1):0==empty(Z)&&""==Z.val()?(Z.after("<span class='err'>Enter your Last name</span>"),Z.focus(),!1):0==empty(B)&&""==B.val()?(B.after("<span class='err'>Enter your Phone number</span>"),B.focus(),!1):0==empty(G)&&""==G.val()?(G.after("<span class='err'>Enter your Email</span>"),G.focus(),!1):0==empty(J)&&""==J.val()?(J.after("<span class='err'>Enter your first name</span>"),J.focus(),!1):0==empty(Q)&&""==Q.val()?(Q.after("<span class='err'>Enter your last name</span>"),Q.focus(),!1):0!=empty(Q)||X.val()?0!=empty(aa)||aa.val()?0!=empty(ae)||ae.val()?0==empty(as)&&0==as.val()&&0==ai.val()?(as.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),as.focus(),!1):0==empty(as)&&0==as.val()&&0!=ai.val()?(as.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),as.focus(),!1):0!=empty(at)||at.val()?0==empty(ai)&&0==ai.val()?(ai.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),ai.focus(),!1):0!=empty(ar)||ar.val()?0!=empty(an)||an.val()?0!=empty(ad)||ad.val()?0!=empty(al)||al.val()?0==empty(ao)&&0==ao.val()&&0==ap.val()?(ao.parents(".select-wrapper").after("<span class='err'>First select your country</span>"),ao.focus(),!1):0==empty(ao)&&0==ao.val()&&0!=ap.val()?(ao.parents(".select-wrapper").after("<span class='err'>Select your state</span>"),ao.focus(),!1):0!=empty(ac)||ac.val()?0==empty(ap)&&0==ap.val()?(ap.parents(".select-wrapper").after("<span class='err'>Select your country</span>"),ap.focus(),!1):(R.find(".err").remove(),!0):(ac.after("<span class='err'>Enter your zipcode</span>"),ac.focus(),!1):(al.after("<span class='err'>Enter your city</span>"),al.focus(),!1):(ad.after("<span class='err'>Enter your address1</span>"),ad.focus(),!1):(an.after("<span class='err'>Enter your last name</span>"),an.focus(),!1):(ar.after("<span class='err'>Enter your first name</span>"),ar.focus(),!1):(at.after("<span class='err'>Enter your zipcode</span>"),at.focus(),!1):(ae.after("<span class='err'>Enter your city</span>"),ae.focus(),!1):(aa.after("<span class='err'>Enter your address1</span>"),aa.focus(),!1):(X.after("<span class='err'>Enter your phone number</span>"),X.focus(),!1))?(console.log("validation-true"),$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote_2/user/check`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(a)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(l){1==l.status&&0!=au?(console.log("success"),$("#custom-log-temp").prepend('<div class="bg_loader_new"></div>').fadeIn(),$(".thank_you1").trigger("click")):(confirm("Please add items in cart to continue."),window.location.href="https://monitors.com/")}})):console.log("validation-false")}),$(document).on("click",".form__input-wrapper",function(){$(this).parents(".cart_create_in").find(".err").remove()}),$(document).on("click",".error_close",function(){$(".cube-face-left").removeClass("is-active"),$(".cube-face-front").addClass("is-active"),$("#cube").removeClass("show-back show-right show-front-success show-first show-left").addClass("show-front"),$(".form-group .form__input-wrapper .form__field").val("")}),$(document).on("click",".btn-login-submit",function(){$("#cube").prepend('<div class="bg_loader"></div>').fadeIn();var l=$(this),o=$(this).parents("form"),c=o.find("#cart-login-customer-email").val(),p=o.find("#cart-login-customer-password").val();$.ajax({url:"/account/login",method:"post",data:{"customer[email]":c,"customer[password]":p,form_type:"customer_login",utf8:"✓"},dataType:"html",success:function(o){var c=new DOMParser().parseFromString(o,"text/html"),p=$(c).find("body").data("customer-id"),u={};u.shop=Shopify.shop,u.customerId=p,$.ajax({type:"POST",url:`${window.location.origin}/apps/monitors_quote/user/quote`,dataType:"json",data:{payload:btoa(unescape(encodeURIComponent(JSON.stringify(u)))),requestToken:enc(JSON.stringify({shop:Shopify.shop,time:new Date().getTime()}))},success:function(o){if(!0===o.status){var c=o.data,p=JSON.parse(c.billing_address),f=JSON.parse(c.contact_data),m=(JSON.parse(c.cart_data),JSON.parse(c.shipping_address)),h=l.parents(".site-i-cart").find(".cart-sub-total-price").data("subtotal"),v={},y=getCartData(l);v.cart_items=y,v.cart_subtotal=h,a.shop=u.shop,a.isLogin=!0,a.customerId=u.customerId,a.contactData=f,a.shippingAddress=m,a.cart_data=v,void 0===p?l.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","none"):(l.parents("#cube").find(".edit_cart").find(".billing-add-content").css("display","block"),a.billingAddress=p),l.parents("#cube").find(".edit_cart").find(".form__header .heading").text("Hi "+f[0].firstName),l.parents("#cube").find(".edit_cart").find(".address-list .address-list__item").each(function(l){0==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+f[0].firstName+" "+f[0].lastName+"</p><span>"+f[0].email+"</span><span>"+f[0].company+"</span><span>"+f[0].phoneNumber+"</span>"),1==l&&$(this).find(".address-list__item-info").html('<p class="heading h5">'+m[0].firstName+" "+m[0].lastName+"</p><span>"+m[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+m[0].address1+" - "+m[0].zipcode+"</span><span>"+m[0].address2+"</span><span>"+m[0].state+", "+m[0].country+"</span>"),2==l&&void 0!==p&&$(this).find(".address-list__item-info").html('<p class="heading hey h5">'+p[0].firstName+" "+p[0].lastName+"</p><span>"+p[0].phoneNumber+"</span><span>"+m[0].company+"</span><span>"+p[0].address1+" - "+p[0].zipcode+"</span><span>"+p[0].address2+"</span><span>"+p[0].state+", "+p[0].country+"</span>")}),$(".bg_loader").fadeOut();let b=$(".cube-face-back").height();$(".cart-recap").height(b)}}})}})}),$(".esc-btns").click(function(){var l=$(this),o=$(this).parents(".esc-email").find(".esc-emailInput"),c=Shopify.shop,p=$('.select-variant-cart-id option[selected="selected"]').attr("value");return $(".esc-email-notification").removeClass("esc-error esc-success"),1==empty(o.val())?(l.parents("#esc-inputs").find(".esc-email-notification").text("Enter your email address").addClass("esc-error"),o.focus(),!1):0!=empty(o.val())||r.test(o.val())?void $.ajax({type:"POST",url:"https://v2.outofstock.eastsideco.io/api/public/subscribe/email",dataType:"json",data:{alertType:"email",country:null,destination:o.val(),domain:c,marketing:!0,product_id:null,variant_id:p},success:function(o){1==o.success?(l.parents("#esc-inputs").find(".esc-email-notification").text("Your email notification request has been registered").addClass("esc-success"),l.parents("#esc-inputs").find(".esc-email").hide()):l.parents("#esc-inputs").find(".esc-email-notification").text(o.message).addClass("esc-error")}}):(l.parents("#esc-inputs").find(".esc-email-notification").text("Enter your valid email address").addClass("esc-error"),o.focus(),!1)});var candaProvince=[{text:"Alberta",value:"AB"},{text:"British Columbia",value:"BC"},{text:"Manitoba",value:"MB"},{text:"New Brunswick",value:"NB"},{text:"Newfoundland and Labrador",value:"NL"},{text:"Northwest Territories",value:"NT"},{text:"Nova Scotia",value:"NS"},{text:"Nunavut",value:"NU"},{text:"Ontario",value:"ON"},{text:"Prince Edward Island",value:"PE"},{text:"Quebec",value:"QC"},{text:"Saskatchewan",value:"SK"},{text:"Yukon Territory",value:"YT"},],usStates=[{value:"AK",text:"Alaska"},{value:"AL",text:"Alabama"},{value:"AR",text:"Arkansas"},{value:"AS",text:"American Samoa"},{value:"AZ",text:"Arizona"},{value:"CA",text:"California"},{value:"CO",text:"Colorado"},{value:"CT",text:"Connecticut"},{value:"DC",text:"District of Columbia"},{value:"DE",text:"Delaware"},{value:"FL",text:"Florida"},{value:"GA",text:"Georgia"},{value:"GU",text:"Guam"},{value:"HI",text:"Hawaii"},{value:"IA",text:"Iowa"},{value:"ID",text:"Idaho"},{value:"IL",text:"Illinois"},{value:"IN",text:"Indiana"},{value:"KS",text:"Kansas"},{value:"KY",text:"Kentucky"},{value:"LA",text:"Louisiana"},{value:"MA",text:"Massachusetts"},{value:"MD",text:"Maryland"},{value:"ME",text:"Maine"},{value:"MI",text:"Michigan"},{value:"MN",text:"Minnesota"},{value:"MO",text:"Missouri"},{value:"MS",text:"Mississippi"},{value:"MT",text:"Montana"},{value:"NC",text:"North Carolina"},{value:"ND",text:"North Dakota"},{value:"NE",text:"Nebraska"},{value:"NH",text:"New Hampshire"},{value:"NJ",text:"New Jersey"},{value:"NM",text:"New Mexico"},{value:"NV",text:"Nevada"},{value:"NY",text:"New York"},{value:"OH",text:"Ohio"},{value:"OK",text:"Oklahoma"},{value:"OR",text:"Oregon"},{value:"PA",text:"Pennsylvania"},{value:"PR",text:"Puerto Rico"},{value:"RI",text:"Rhode Island"},{value:"SC",text:"South Carolina"},{value:"SD",text:"South Dakota"},{value:"TN",text:"Tennessee"},{value:"TX",text:"Texas"},{value:"UT",text:"Utah"},{value:"VA",text:"Virginia"},{value:"VI",text:"Virgin Islands"},{value:"VT",text:"Vermont"},{value:"WA",text:"Washington"},{value:"WI",text:"Wisconsin"},{value:"WV",text:"West Virginia"},{value:"WY",text:"Wyoming"},];function getProvince(l){var o="";return"United States"==l?(o+='<option class="select__item" value="0">State</option>',$.each(usStates,function(l,c){o+='<option class="select__item" value="'+c.text+'" data-code="'+c.value+'">'+c.text+"</option>"})):"Canada"==l&&(o+='<option class="select__item" value="0">Province</option>',$.each(candaProvince,function(l,c){o+='<option class="select__item" value="'+c.text+'" data-code="'+c.value+'">'+c.text+"</option>"})),o}function enc(l,o=2){if(!l)return!1;l=btoa(l);var c="";function p(l=!1){var o=[],c="a";for(let p of(!0===l&&(c="A"),Array(26).keys()))o.push(String.fromCharCode(c.charCodeAt(0)+p));return o}return l.split("").forEach(function(l){c+=function(l,o){if(!0!==/[a-zA-Z]/.test(l))return l;var c=p();/[A-Z]/.test(l)&&(c=p(!0));for(var u=c.indexOf(l),f=1;f<=o;f++)u=c[parseInt(u)+1]?parseInt(u)+1:0;return c[u]}(l,o)}),c}document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0})),$(document).on("click",".findify-add-to-cart",function(){$("html").addClass("item-added-cart")}),$(document).ready(function(){$(".active");var l=$(".flits-view-quote-button"),o=$(".flits-collaps-quote-details");l.on("click",function(l){var o=$(l.currentTarget);o.parent().siblings(".flits-collaps-quote-details").stop().slideToggle(),o.stop().toggleClass("active")}),$(window).on("load",function(){l.removeClass("active"),$(o).css("display","")})});